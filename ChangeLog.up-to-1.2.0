2011-12-27  Daniel Verite <daniel@manitou-mail.org>

	* help/en/img/filters.png: New picture
	* help/en/Makefile.am: Added manitou.qch for installation
	* mdx/script/manitou-mdx: Handle "discard" filter action
	* mdx/lib/Manitou/Schema.pm: Migrate delete and trash to new action
	* doc/manitou-mdx.docbook, doc/manitou-ui.docbook:
	* src/helper.cpp, src/mail_listview.cpp: Change debug levels on
	  some messages
	* src/filter_eval.cpp: Bugfix on subject() function
	* NEWS: 1.2.0

2011-12-17  Daniel Verite <daniel@manitou-mail.org>

	* doc/manitou-ui.docbook: Full text search
	* mdx/script/manitou-mgr: Remove use of // operator because of perl
	  < 5.10

2011-12-13  Daniel Verite <daniel@manitou-mail.org>

	* help/en/manitou.qhcp, help/en/manitou.qhp: Added doc sections

2011-12-12  Daniel Verite <daniel@manitou-mail.org>

	* ChangeLog:
	* src/edit_rules.cpp, src/edit_rules.h: Don't allow to move filters
	  if they're not sorted by apply order (since it wouldn't work)
	* src/edit_rules.cpp: Fix close+save not closing the window the
	  first time
	* src/filter_eval.cpp: Implement a==b
	* doc/book.docbook, doc/dbschema.docbook, doc/manitou-docbook.css,
	  doc/manitou-mgr.docbook, doc/manitou-ui.docbook: Changes for
	  1.2.0
	* doc/img/filters.png, doc/img/main-panels.png,
	  doc/img/status_attached.png, doc/img/status_forwarded.png,
	  doc/img/status_new.png, doc/img/status_pending.png,
	  doc/img/status_processed.png, doc/img/status_read.png,
	  doc/img/status_replied.png, doc/img/status_sent.png,
	  doc/img/status_trashed.png: Image updates

2011-12-09  Daniel Verite <daniel@manitou-mail.org>

	* src/main.cpp: Fix Windows compilation error

2011-12-08  Daniel Verite <daniel@manitou-mail.org>

	* translations/manitou_fr.ts:
	* src/main.cpp: Add MacOS setup code for resources
	* mdx/lib/Manitou/Plugins/outgoing_header.pm: New plugin to modify
	  headers of outgoing messages
	* mdx/lib/Manitou/Filters.pm: Implement quoted chars in strings
	* translations/manitou_fr.ts:
	* configure.in: Dump version and required postgresql version
	* src/filter_action_editor.cpp: Update description for identities
	* src/filter_eval.cpp, src/filter_eval.h: Implement strings with
	  quoted portions
	  Add != and !~ operators
	* src/Makefile.am, src/log_window.cpp, src/log_window.h,
	  src/main.cpp: First implementation of the debug log window
	* src/mail_listview.cpp, src/mail_listview.h: Fix column headers
	  translation
	* mdx/lib/Manitou/Filters.pm: Implement !~ and != operators
	  Fix date_field arguments

2011-12-07  Daniel Verite <daniel@manitou-mail.org>

	* translations/manitou_fr.ts: Update for 1.2.0

2011-12-03  Daniel Verite <daniel@manitou-mail.org>

	* src/composer_widgets.cpp, src/composer_widgets.h,
	  src/html_editor.cpp, src/html_editor.h: Polish drag&drop to
	  attach files
	  Fix drag&drop for body_edit_widget on Windows

2011-12-02  Daniel Verite <daniel@manitou-mail.org>

	* help/en/about.txt:
	* help/en/manitou.qhcp, help/en/manitou.qhp: Initial help file
	  indexes

2011-12-01  Daniel Verite <daniel@manitou-mail.org>

	* help/en/Makefile.am: Update for new Qt helper system
	* src/attachment_listview.cpp, src/attachment_listview.h,
	  src/composer_widgets.cpp, src/composer_widgets.h,
	  src/filter_action_editor.h, src/html_editor.cpp,
	  src/html_editor.h, src/mailing_wizard.h, src/newmailwidget.cpp,
	  src/newmailwidget.h: Implement drag&drop of attached files when
	  composing message
	* src/helper.cpp: Add the missing qthelp://... component for the
	  path to setSource

2011-11-30  Daniel Verite <daniel@manitou-mail.org>

	* mdx/lib/Manitou/Schema.pm: Add function replace_header_field
	  Use drop table mailboxes cascade instead of finding the fk
	  constraint and dropping it
	* mdx/script/manitou-mgr: Tone down postgresql notices or warnings
	  when --quiet is used
	* sql/replace_header_field.sql: plpgsql function to add, replace or
	  remove occurrences of a header field

2011-11-28  Daniel Verite <daniel@manitou-mail.org>

	* mdx/script/manitou-mdx: redirect(): fix case mismatch on input
	  arguments
	* mdx/script/manitou-mgr: Add --dry-run option for upgrade-schema
	  and create-schema
	* mdx/lib/Manitou/Filters.pm: Added date_field missing ctxt
	  argument
	* mdx/lib/Manitou/Config.pm, mdx/lib/Manitou/Log.pm,
	  mdx/lib/Manitou/MailFormat.pm, mdx/script/manitou-mdx: Handle
	  recipients column in mail import
	  Keep filesize for mail.raw_size
	  Move date parsing code to MailFormat.pm
	  Merge mailboxes and identities
	* mdx/lib/Manitou/Filters.pm: New filter functions and operators
	  age(), date(), now(), rawsize(), identity()
	* mdx/lib/Manitou/Schema.pm, mdx/script/manitou-mgr: Latest schema
	  modification for version 1.2.0
	* src/mail_listview.cpp, src/mail_listview.h, src/mailheader.cpp,
	  src/mailheader.h, src/message.cpp, src/message.h,
	  src/msg_list_window.cpp, src/msg_list_window_pages.cpp,
	  src/preferences.cpp, src/selectmail.cpp: New "recipients" column
	  displayed dynamically in mail_listview when all messages of the
	  list have the outgoing status bit
	* src/filter_eval.cpp: Add specific error for empty expression

2011-11-25  Daniel Verite <daniel@manitou-mail.org>

	* mdx/lib/Manitou/Plugins/attach_uploader.pm,
	  mdx/lib/Manitou/Plugins/attach_uploader_ssh.pm: Update non-code
	  sections
	* src/db.cpp, src/message_view.cpp, src/message_view.h,
	  src/selectmail.cpp: Remove warnings
	* src/message.cpp, src/message.h: Add get_sender_timestamp for
	  date() filter function
	* src/msg_list_window.cpp, src/msg_list_window.h: Comment analyze
	  header stuff until it's more useful
	* src/filter_rules.cpp: Fix apply_order duplicates by doing all the
	  deletes in filter_expr before the inserts and updates
	* src/edit_rules.cpp, src/edit_rules.h: Remove Suggest Filter until
	  it's more useful
	* src/filter_eval.cpp, src/filter_eval.h: Finished functions
	  date,date_utc,now,now_utc

2011-11-20  Daniel Verite <daniel@manitou-mail.org>

	* mdx/Makefile.PL, mdx/lib/Manitou/Schema.pm: Version 1.2.0

2011-11-19  Daniel Verite <daniel@manitou-mail.org>

	* src/Makefile.am, src/edit_rules.cpp, src/edit_rules.h,
	  src/filter_rules.cpp, src/filter_rules.h, src/selectmail.cpp,
	  src/selectmail.h: Large batch of improvements in the filters
	  functionalities
	* src/sql_editor.cpp, src/sql_editor.h:
	* src/mail_listview.cpp: Make it possible to not have a
	  m_msg_window as our parent (to display filter results)
	* src/filter_action_editor.cpp, src/filter_action_editor.h,
	  src/filter_eval.cpp, src/filter_eval.h,
	  src/filter_expr_editor.cpp, src/filter_expr_editor.h,
	  src/filter_results_window.cpp, src/filter_results_window.h: Add
	  new files for filter functionalities
	* src/newmailwidget.cpp: Recall the latest attachments directory
	* src/searchbox.cpp: Fix typo in tooltip
	* src/message.cpp, src/message.h: Add support for new filters and
	  merge of identities and mailboxes
	* src/preferences.cpp, src/preferences.h: Add icons and selectors
	  for directories
	* src/sqlstream.cpp, src/sqlstream.h: Add auto_exec flag to NOT
	  auto-start a query when not desirable
	* src/main.cpp, src/main.h: Add cleanup method to terminate the
	  helper process
	* src/app_config.cpp, src/app_config.h: Move get_date_format_code()
	  into app_config
	* src/identities.cpp, src/identities.h: Merge mailboxes (incoming)
	  into identities (outgoing)
	* src/helper.cpp, src/helper.h: No longer use the deprecated
	  QAssistantClient class
	* xpm/Makefile.am, xpm/dialog-ok.png, xpm/emblem-important.png,
	  xpm/folder.png, xpm/go-bottom.png, xpm/go-down.png,
	  xpm/go-top.png, xpm/go-up.png: New icons
	* src/icons.h: New icons
	* src/mail_displayer.cpp, src/mail_displayer.h,
	  src/message_view.cpp, src/message_view.h,
	  src/mime_msg_viewer.cpp, src/mime_msg_viewer.h,
	  src/msg_list_window.cpp, src/msg_list_window.h,
	  src/msg_list_window_pages.cpp: Convert struct display_prefs to
	  class

2011-09-21  Daniel Verite <daniel@manitou-mail.org>

	* src/attachment.cpp, src/attachment.h: Fix crash in
	  attachment_network_reply with Qt-4.7

2011-08-10  Daniel Verite <daniel@manitou-mail.org>

	* mdx/MANIFEST, mdx/lib/Manitou/Plugins/attach_uploader_ssh.pm:
	  Added attach_uploader_ssh plugin

2011-08-09  Daniel Verite <daniel@manitou-mail.org>

	* src/sqlstream.cpp, src/sqlstream.h: Added support for float

2011-08-08  Daniel Verite <daniel@manitou-mail.org>

	* help/en/img/login.png, help/en/manitou.adp: Last changes in doc
	  for 1.1.0
	* mdx/lib/Manitou/Schema.pm: Add wordsearch* functions
	* mdx/script/manitou-mgr: Output database name in --upgrade
	  Add --version option
	* NEWS: clarify full text search changes

2011-08-07  Daniel Verite <daniel@manitou-mail.org>

	* mdx/MANIFEST, mdx/lib/Manitou/Mailing.pm, mdx/lib/Manitou/xSV.pm,
	  mdx/script/manitou-mgr: Ship Text::xSV as Manitou::xSV since it's
	  not packaged for debian.
	  manitou-mgr: try to connect to the database only when necessary
	* src/mailing_wizard.cpp, translations/manitou_fr.ts: Add wizard
	  subtitle for textarea

2011-08-06  Daniel Verite <daniel@manitou-mail.org>

	* mdx/script/manitou-mgr: Update version number
	* doc/book.docbook, doc/dbschema.docbook: Update for new tables

2011-08-05  Daniel Verite <daniel@manitou-mail.org>

	* ChangeLog, NEWS: News
	* doc/manitou-docbook.css, doc/manitou-ui.docbook: Added initial
	  doc for mailings
	* translations/manitou_fr.ts: Latest translations for mailings
	* src/mailing.cpp, src/mailing_window.cpp, src/mailing_window.h,
	  src/mailing_wizard.cpp, src/mailing_wizard.h,
	  src/msg_list_window.cpp, src/text_merger.cpp, src/text_merger.h:
	  Improve mailings
	* mdx/lib/Manitou/Mailing.pm: regexp is {{varname}}
	* mdx/lib/Manitou/Schema.pm: Add SQL comments on creation

2011-07-20  Daniel Verite <daniel@manitou-mail.org>

	* translations/manitou_fr.ts: Update french translations for
	  mailing wizard fixes
	* src/mailing_wizard.cpp, src/mailing_wizard.h: Minor bugfixes on
	  mailing setup

2011-07-16  Daniel Verite <daniel@manitou-mail.org>

	* src/text_merger.cpp: Added
	* src/text_merger.h: Added

2011-07-15  Daniel Verite <daniel@manitou-mail.org>

	* translations/manitou_fr.ts: Update for mailings
	* mdx/lib/Manitou/Attachments.pm, mdx/lib/Manitou/Mailing.pm: Fix
	  MIME part handling for outgoing mailing
	* doc/book.docbook, doc/dbschema.docbook, doc/manitou-mail.xsl:
	  Improve TOC
	  Improve doc for filtering tables
	* doc/img/login.png: Improved corners
	* xpm/Makefile.am, xpm/stock_mail-merge.png,
	  xpm/stock_new-template.png, xpm/stock_save-template.png,
	  xpm/tag.png: Added icons
	* src/mail_listview.h: date_item has moved to date.cpp
	* src/msg_list_window.cpp, src/msg_list_window.h: Added mailing
	  launch
	* src/about.h, src/addressbook.cpp, src/addresses.cpp,
	  src/addresses.h, src/identities.h: Add more addresses parsing
	  capabilities
	* src/newmailwidget.h: templates
	* src/database.h, src/db.cpp: Added escape_string_literal()
	* src/Makefile.am, src/mailing_viewer.cpp, src/mailing_viewer.h:
	  Added mailing viewer window
	* src/date.cpp, src/date.h, src/mail_listview.cpp: Improve date
	  handling
	* src/app_config.cpp: Fixed max messages per query
	* src/selectmail.h: Improve word search and email search
	* src/about.cpp: Use US-ASCII html entities for accents
	* src/preferences.cpp: Fixed bug on saving default email
	* src/mailing.cpp, src/mailing.h, src/mailing_window.cpp,
	  src/mailing_window.h, src/mailing_wizard.cpp,
	  src/mailing_wizard.h: Improve mailing functionality
	* src/icons.h: New icons for templates and tags
	* src/newmailwidget.cpp: Move some classes to composer_widgets.cpp
	  Add load and save templates
	* src/main.cpp: Use Qt's own translation if available
	* src/selectmail.cpp: Improve word search
	* src/words.cpp, src/words.h: Added progressive_wordsearch class
	* src/sqlstream.cpp, src/sqlstream.h: Added sql_stream::row_count()
	  method
	* src/edit_rules.cpp: Removed dead code
	* configure.in: Bump version
	* src/mail_displayer.cpp: Remove unneeded QRegExp

2011-06-23  Daniel Verite <daniel@manitou-mail.org>

	* mdx/script/check_manitou: Nagios plugin for manitou-mdx

2011-06-20  Daniel Verite <daniel@manitou-mail.org>

	* src/body_view.cpp: Removed qDebug() calls

2011-06-08  Daniel Verite <daniel@manitou-mail.org>

	* mdx/lib/Manitou/MailFormat.pm, mdx/lib/Manitou/Mailing.pm,
	  mdx/lib/Manitou/Schema.pm, mdx/script/manitou-mdx: Added CSV
	  mailmerge

2011-05-18  Daniel Verite <daniel@manitou-mail.org>

	* mdx/MANIFEST, mdx/Makefile.PL, mdx/etc/manitou-mdx.conf,
	  mdx/lib/Manitou/Database.pm, mdx/lib/Manitou/Jobs.pm,
	  mdx/lib/Manitou/Log.pm, mdx/lib/Manitou/MailFormat.pm,
	  mdx/lib/Manitou/Mailing.pm, mdx/lib/Manitou/Schema.pm,
	  mdx/script/manitou-mdx, mdx/script/manitou-mgr: Version 1.1.0 RC
	  Added mailmerge and asynchronous mailing capabilities

2011-03-22  Daniel Verite <daniel@manitou-mail.org>

	* src/html_editor.h: Removed dead code

2011-03-21  Daniel Verite <daniel@manitou-mail.org>

	* src/html_editor.cpp: Fixed translation of toolbar actions.
	  Removed #define in favor of actual QT_TR_NOOP calls, otherwise
	  lupdate doesn't extract the expressions to translate.
	* translations/manitou_fr.ts: Translations for mailing and HTML
	  editor
	* src/Makefile.am, src/composer_widgets.cpp,
	  src/composer_widgets.h, src/mail_template.cpp,
	  src/mail_template.h, src/mailing.cpp, src/mailing.h,
	  src/mailing_wizard.cpp, src/mailing_wizard.h: New files for
	  templates and mailing
	* src/db.cpp: Don't ping the server inside a transaction to avoid
	  failure when the transaction is in failure state.
	* src/sqlstream.cpp, src/sqlstream.h: No longer assume that only
	  SELECT queries return results, since {INSERT|UPDATE}.. RETURNING
	  do return results
	  Remove obsolete operator>>(Oid& i)

2011-01-27  Daniel Verite <daniel@manitou-mail.org>

	* mdx/lib/Manitou/Attachments.pm, mdx/script/manitou-mdx: Fix the
	  MIME structure of outgoing messages with HTML+text+attached files

2010-12-04  Daniel Verite <daniel@manitou-mail.org>

	* mdx/lib/Manitou/Attachments.pm: Don't set the MIME-Version header
	  in create_html_part()

2010-12-02  Daniel Verite <daniel@manitou-mail.org>

	* mdx/script/manitou-mdx: Don't set MIME-Version to undef,
	  otherwise we don't get any MIME-Version header in multi-part
	  messages although it is required.
	* mdx/lib/Manitou/Attachments.pm: Use Content-Disposition:
	  attachment instead of the default inline for files

2010-10-24  Daniel Verite <daniel@manitou-mail.org>

	* src/mailheader.cpp: Fix crash on lower case quoted printable or
	  bad hex codes

2010-09-23  Daniel Verite <daniel@manitou-mail.org>

	* ChangeLog, NEWS, configure.in, sql/crpg.sql: Bump to 1.0.2
	* mdx/Makefile.PL, mdx/lib/Manitou/Config.pm,
	  mdx/lib/Manitou/Schema.pm, mdx/script/manitou-mdx,
	  mdx/script/manitou-mgr: New parameter log_filter_hits
	  Bump to 1.0.2
	  Remove spurious comma in creation script for filter_expr
	* doc/dbschema.docbook, doc/manitou-ui.docbook: Documented message
	  status bits and some small fixes.

2010-09-22  Daniel Verite <daniel@manitou-mail.org>

	* src/edit_rules.cpp, src/filter_rules.cpp, src/filter_rules.h,
	  src/tags.cpp, src/tags.h: Bugfix: replace tag separator's
	  non-ascii character in tag argument of filter actions by the
	  ascii version that is required by manitou-mdx.
	* src/body_view.cpp, src/body_view.h, src/mail_displayer.cpp,
	  src/mail_displayer.h, src/message_view.cpp: Fixed printing so
	  that the headers are printed on the same page than the top of the
	  message instead of a separate page.
	* src/msg_list_window.cpp: Reduce the frequency of database ping
	  Move the "Show Filters Log" menu entry into the Display/Headers
	  section

2010-09-21  Daniel Verite <daniel@manitou-mail.org>

	* translations/manitou_fr.ts: Updated french translation

2010-09-18  Daniel Verite <daniel@manitou-mail.org>

	* src/Makefile.am, src/message_view.cpp, src/mime_msg_viewer.cpp,
	  src/mime_msg_viewer.h: Allow clipboard COPY (Ctrl+C) in the
	  message/rfc822 attachments viewer

2010-09-08  Daniel Verite <daniel@manitou-mail.org>

	* src/database.h, src/db.cpp, src/db_listener.cpp,
	  src/db_listener.h, src/mail_listview.cpp, src/main.cpp,
	  src/msg_list_window.cpp, src/query_listview.cpp,
	  src/selectmail.cpp: Automatic database reconnection

2010-09-05  Daniel Verite <daniel@manitou-mail.org>

	* src/selectmail.cpp: Fixed a crash with lost connection to the
	  database

2010-08-24  Daniel Verite <daniel@manitou-mail.org>

	* src/newmailwidget.cpp: Remove newlines, carriage returns, tabs
	  from the subject line

2010-08-20  Daniel Verite <daniel@manitou-mail.org>

	* mdx/Makefile.PL: Version bump
	* ChangeLog:
	* src/message_port.cpp, src/message_port.h,
	  src/msg_list_window.cpp, src/msg_list_window.h,
	  src/msg_status_cache.cpp: When we're notified of a new mail,
	  refresh the messages list if fetch/auto_incorporate_new_results
	  is on.
	* mdx/script/manitou-mgr: Add configuration data when initializing
	  the schema
	  Version bump
	* mdx/lib/Manitou/Schema.pm: Fix typo on runtime_info
	* ChangeLog: Update for version 1.0.1
	* doc/manitou-mgr.docbook: Detailed options for manitou-mgr
	* AUTHORS, NEWS: Version 1.0.1
	* src/app_config.cpp, src/app_config.h, src/msg_list_window.cpp,
	  src/newmailwidget.cpp, src/newmailwidget.h, src/preferences.cpp,
	  src/users.cpp, src/users.h: Dynamic signatures and new fields in
	  the users table
	  Added new config parameters fetch/auto_refresh_messages_list and
	  fetch/auto_incorporate_new_results
	* sql/crpg.sql: Added fields to users table
	* mdx/lib/Manitou/Schema.pm: Updated users table
	* mdx/lib/Manitou/Plugins/spam_learner.pm: No default tagname
	* translations/manitou_fr.ts: Translations for 1.0.1
	* doc/Makefile, doc/book.docbook, doc/dbschema.docbook,
	  doc/manitou-mgr.docbook, doc/manitou-ui.docbook: Updates for
	  1.0.1
	* doc/manitou-docbook.css: Fix path error

2010-08-19  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.h, src/msg_status_cache.cpp,
	  src/msg_status_cache.h, src/query_listview.cpp: Bugfixes for
	  updates query listview counters

2010-08-17  Daniel Verite <daniel@manitou-mail.org>

	* src/attachment.cpp: Bugfix for a possible crash when adding an
	  attachment when the mime_types table is empty

2010-08-16  Daniel Verite <daniel@manitou-mail.org>

	* src/Makefile.am, src/database.h, src/db.cpp, src/db_listener.cpp,
	  src/db_listener.h, src/main.cpp, src/main.h, src/message.cpp,
	  src/message_port.cpp, src/message_port.h,
	  src/msg_list_window.cpp, src/msg_status_cache.cpp,
	  src/msg_status_cache.h, src/query_listview.cpp,
	  src/query_listview.h, src/selectmail.cpp, src/tags.cpp: Update
	  the quick selection counters and status cache following database
	  notifications for newly imported messages

2010-08-15  Daniel Verite <daniel@manitou-mail.org>

	* src/helper.cpp: Fixed html references

2010-08-13  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_properties.h: include message.h
	* src/database.h, src/db.cpp, src/db.h, src/filter_log.h,
	  src/main.cpp, src/main.h, src/message.cpp, src/message.h,
	  src/msg_list_window.cpp, src/query_listview.cpp,
	  src/query_listview.h: Display the database name in the main
	  window title
	  Fixed query listview counts not updated on refresh (clear status
	  cache)
	  Fixed query listview missing counts updates with untagged
	  messages
	* configure.in: Bump to 1.0.1

2010-08-11  Daniel Verite <daniel@manitou-mail.org>

	* src/helper.cpp: Disable temporarily the help translations.
	* src/helper.cpp: Changes for help from docbook sources
	* help/en/attachments.html, help/en/command.html,
	  help/en/configurations.html, help/en/connecting.html,
	  help/en/filters.html, help/en/index.html, help/en/menus.html,
	  help/en/notes.html, help/en/pages.html, help/en/preferences.html,
	  help/en/querysel.html, help/en/quicksel.html,
	  help/en/remote.html, help/en/retrieve.html, help/en/sql.html,
	  help/en/style.css, help/en/tags.html, help/en/wordsearch.html:
	  Remove source HTML docs. HTML is now generated from docbook
	  sources.
	* INSTALL, README: Updated for 1.0
	* help/en/Makefile.am: Changes for docbook documentation
	* help/en/manitou.adp: changes for new docbook documentation merged
	  with help
	* configure.in: Remove help/fr for the moment
	* help/en/img/notelist.png, help/en/img/privnote.png,
	  help/en/img/quicksel.png: Refresh screenshots
	* NEWS:
	* help/en/img/Makefile.am, help/en/img/attachments.png,
	  help/en/img/filters.png, help/en/img/login.png,
	  help/en/img/manitou-logo.png, help/en/img/quicksel.png,
	  help/en/img/tagsdialog.png, help/en/img/wordsearch.png: Refresh
	  screenshots
	* help/Makefile.am: Remove the french help for the moment. Due to
	  the transition to docbook, this will need to be redone.
	* doc, doc/Makefile, doc/book.docbook, doc/dbschema.docbook,
	  doc/img, doc/img/architecture.png, doc/img/attachments.png,
	  doc/img/filters.png, doc/img/login.png, doc/img/manitou-logo.png,
	  doc/img/notelist.png, doc/img/privnote.png,
	  doc/img/query-form.png, doc/img/quicksel.png,
	  doc/img/tagsdialog.png, doc/img/wordsearch.png,
	  doc/manitou-docbook.css, doc/manitou-mail.xsl,
	  doc/manitou-mdx.docbook, doc/manitou-mgr.docbook,
	  doc/manitou-ui.docbook: Added docbook documentation
	* win32: Remove win32 directory

2010-08-10  Daniel Verite <daniel@manitou-mail.org>

	* xpm/Makefile.am: Added stock_disconnect.png
	* translations/manitou_fr.ts: Updated french translation

2010-08-09  Daniel Verite <daniel@manitou-mail.org>

	* src/query_listview.cpp, src/query_listview.h: Fixed
	  Unread->untagged counter displaying the value before the update
	* ChangeLog:
	* sql/crpg.sql: Remove obsolete columns
	* mdx/script/manitou-mdx: Database notifications for new mail
	* xpm/Makefile.am, xpm/gtk-about.png, xpm/manitou-logo.png,
	  xpm/stock_connect-to-url.png, xpm/stock_disconnect.png: Added
	  icons
	* src/Makefile.am, src/about.cpp, src/db.h, src/dbtypes.h,
	  src/main.cpp, src/main.h, src/message.cpp, src/message.h,
	  src/msg_list_window.cpp, src/query_listview.cpp,
	  src/query_listview.h, src/selectmail.cpp, src/selectmail.h: Clean
	  up
	  Fix status updates in query_listview
	  Replace mail.operator column by mail.mod_user_id
	* src/newmailwidget.cpp, src/newmailwidget.h: Added toggle tags
	  panel menu command
	* src/body_view.cpp, src/icons.h, src/login.cpp,
	  src/notewidget.cpp, src/notewidget.h: Icons and cosmetic
	  improvements
	* src/tagsdialog.cpp, src/tagsdialog.h: Fix regression on drag-drop
	  across the hierarchy (Qt bug in treeview, apparently)
	  Remove "New child" in favor of "New" only that creates as a child
	  of the currently selected item
	  Warn about unsaved changes
	  Avoid duplicates in tag names

2010-08-05  Daniel Verite <daniel@manitou-mail.org>

	* mdx/lib/Manitou/Schema.pm: Renamed mod_userid to mod_user_id
	* mdx/lib/Manitou/Schema.pm: Schema changes, mostly varchar(x)
	  replaced by text to avoid arbitrary maxima
	* mdx/script/manitou-mdx: Improve error handling when launching the
	  local delivery agent
	* mdx/MANIFEST, mdx/Makefile.PL, mdx/etc/manitou-mdx-sample.conf,
	  mdx/etc/manitou-mdx.conf: Renamed config file
	* mdx/script/manitou-mgr: Reworked command line options related to
	  the database connection

2010-08-02  Daniel Verite <daniel@manitou-mail.org>

	* src/tags.cpp: tags_repository::names_list now returns
	  case-insensitive sorted tag names
	* src/tagsdialog.cpp: Refresh tags_repository contents if necessary
	* src/query_listview.cpp, src/query_listview.h: Fix [Unread]->[Not
	  tagged] count
	  Change the display of counts from New>Current to Current<New
	* src/query_listview.cpp, translations/manitou_fr.ts: Update
	  wording and french translation
	* src/msg_list_window.cpp, src/msg_list_window.h,
	  src/query_listview.cpp, src/query_listview.h, src/tags.cpp: Code
	  cleanup
	  f10 focus on messages list
	  Added several counters in the quick selection panel

2010-07-31  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp: Clear the quick selection when the
	  results list come from the query selection

2010-07-28  Daniel Verite <daniel@manitou-mail.org>

	* mdx/lib/Manitou/Plugins/spam_learner.pm: Allow for the case of
	  the user assigning the spam tag
	  Fixed error logging in fetch_list()
	  Added explanations on spam policy
	  Added max_age option
	* mdx/lib/Manitou/Tags.pm: Set mail_tags.agent to null instead of 0
	  for automatic tagging

2010-07-27  Daniel Verite <daniel@manitou-mail.org>

	* mdx/lib/Manitou/Plugins/spam_learner.pm: Typo: learnt=>learned
	* mdx/lib/Manitou/Plugins/spam_learner.pm: Remove the spam tag from
	  false positives

2010-07-26  Daniel Verite <daniel@manitou-mail.org>

	* mdx/lib/Manitou/Plugins/spamc.pm: Added more comments
	  Use logging facility
	* mdx/MANIFEST, mdx/lib/Manitou/Plugins/spam_learner.pm: New
	  maintenance plugin spam_learner dedicated to training
	  spamassassin. Automatically calls sa-learn with new spam and ham
	  contents detected by users.
	* mdx/lib/Manitou/Config.pm: New config entry init_sql
	* src/message_view.cpp: Fixed selected_html_fragment() for Qt>=4.6
	  (javascript webkit regression?)
	* mdx/script/manitou-mdx: Added logging capabilities for plugins
	  Added init_sql parameter
	  Added --fork and --pidfile options
	  Fixed plugins_directory to be first in @INC instead of last

2010-07-23  Daniel Verite <daniel@manitou-mail.org>

	* mdx/script/manitou-mdx: Fixed openlog call for older versions of
	  syslog perl package
	  Add ARCHIVED bit to mail.status for sent messages
	  Use syslog to report on outgoing mail
	* mdx/lib/Manitou/Config.pm: New default for alive_interval
	* translations/manitou_fr.ts: Updated french translation
	* src/query_listview.cpp, src/query_listview.h: Added font boldness
	  for untagged unread messages counter
	* src/icons.h, src/msg_list_window.cpp, src/msg_list_window.h,
	  src/preferences.cpp, src/query_listview.cpp,
	  src/query_listview.h: In the quick selection panel, changed
	  tagged to tagged&archived, and display in bold font the tags that
	  have unread mail
	  Added shortcut and toolbar entry for Global notepad
	  Finished display/tags_in_headers functionality

2010-07-22  Daniel Verite <daniel@manitou-mail.org>

	* NEWS: Changes for 1.0.0

2010-07-21  Daniel Verite <daniel@manitou-mail.org>

	* sql/upgrade-0.9.13.sql: Removed obsolete file
	* win32/msvc/README, win32/msvc/manitou.dsp: Removed obsolete files
	* configure.in: Bump to 1.0.0
	* src/Makefile.am, src/attachment_listview.cpp,
	  src/attachment_listview.h, src/db.h, src/icons.h,
	  src/mail_displayer.h, src/mail_listview.cpp, src/mail_listview.h,
	  src/message.cpp, src/message_view.cpp, src/msg_list_window.cpp,
	  src/msg_list_window.h, src/msg_list_window_pages.cpp,
	  src/newmailwidget.cpp, src/newmailwidget.h, src/notepad.cpp,
	  src/notepad.h, src/notewidget.cpp, src/notewidget.h,
	  src/query_listview.cpp, src/query_listview.h, src/selectmail.cpp,
	  src/selectmail.h, src/tags.cpp, src/tags.h: Global notepad
	  Notes and attachment columns in the main listview
	  User can change columns in the main listview
	  Bugfix on query listview selection on Windows
	  Use mail.flags instead of mail.attachments
	* translations/manitou_fr.ts: French translation updated

2010-07-20  Daniel Verite <daniel@manitou-mail.org>

	* mdx/lib/Manitou/Schema.pm: Create global_table for 1.0
	* mdx/etc/manitou-mdx-sample.conf: Make manitou the default
	  database and user name
	* mdx/script/manitou-mgr: Create language is done by database
	  superuser postgres
	* xpm/Makefile.am, xpm/accessories-text-editor.png, xpm/close.png,
	  xpm/evolution-memos-grey.png, xpm/evolution-memos.png,
	  xpm/exit.png, xpm/remove.png, xpm/spam.png,
	  xpm/status_processed.png: New icons
	* mdx/lib/Manitou/Schema.pm, mdx/script/manitou-mgr: Added schema
	  upgrade capabilities to manitou-mgr
	* mdx/script/manitou-mdx: Bugfix on mail.flags update query

2010-07-19  Daniel Verite <daniel@manitou-mail.org>

	* mdx/MANIFEST, mdx/Makefile.PL: Add Syslog dependency
	  The sample config file is now manitou-mdx-sample.conf

2010-07-16  Daniel Verite <daniel@manitou-mail.org>

	* mdx/etc/manitou-mdx-sample.conf, mdx/etc/manitou-sample.conf:
	  Rename

2010-07-15  Daniel Verite <daniel@manitou-mail.org>

	* sql/crpg.sql, sql/triggers_on_mail.sql: Schema changes for 1.0.0

2010-07-12  Daniel Verite <daniel@manitou-mail.org>

	* mdx/Makefile.PL, mdx/lib/Manitou/Attachments.pm,
	  mdx/lib/Manitou/Config.pm, mdx/lib/Manitou/Encoding.pm,
	  mdx/lib/Manitou/Filters.pm, mdx/lib/Manitou/Schema.pm,
	  mdx/lib/Manitou/Tags.pm, mdx/lib/Manitou/Words.pm,
	  mdx/script/manitou-mdx, mdx/script/manitou-mgr: Use syslog
	  Bump to 1.0
	  Add database auto-reconnect
	  Handle mail.flags

2010-07-02  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp, src/msg_list_window_pages.cpp,
	  src/query_listview.cpp: Minor bugfixes in quick selection

2010-03-11  Daniel Verite <daniel@manitou-mail.org>

	* src/mail_displayer.cpp: Ending bracket is considered to be
	  outside URLs
	* src/html_editor.cpp, src/message_view.cpp: Remove debug output

2010-02-20  Daniel Verite <daniel@manitou-mail.org>

	* src/about.cpp: Change (c) date

2010-02-06  Daniel Verite <daniel@manitou-mail.org>

	* sql/crpg.sql, sql/upgrade-0.9.13.sql: Remove header.header_size
	* mdx/lib/Manitou/Schema.pm: Remove header.header_size and
	  unnecessary indexes on address
	* mdx/script/manitou-mdx: Don't set header.header_size

2010-01-17  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp, src/msg_list_window.h,
	  src/query_listview.cpp, src/query_listview.h: For query_listview,
	  run queries on itemActivated signal instead of
	  itemSelectionChanged. Use a style proxy to have the items
	  activated on single-click.
	* src/body_view.cpp, src/db.cpp, src/message_view.cpp,
	  src/selectmail.cpp: Suppress newlines in format string of
	  DBG_PRINTF() invocations

2010-01-02  Daniel Verite <daniel@manitou-mail.org>

	* mdx/script/manitou-mdx: parse_sender_date: sanity check on the
	  day

2009-11-24  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp, src/selectmail.h: Fix display of query
	  execution time
	* src/addresses.cpp, src/edit_address_widget.cpp,
	  src/edit_address_widget.h: Fix input of invalid email addresses
	  (containing non-printable characters)
	  Avoid completing with email addresses that have the invalid field
	  set in the database.

2009-11-09  Daniel Verite <daniel@manitou-mail.org>

	* translations/manitou_fr.ts: Update

2009-10-25  Daniel Verite <daniel@manitou-mail.org>

	* src/mail_listview.cpp, src/mail_listview.h: When removing an item
	  in the mail listview, keep the expansion state of its childs (in
	  the thread) instead of finding them all unexpanded after the
	  removal of the parent.

2009-10-20  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp, src/selectmail.cpp, src/selectmail.h:
	  use QTime instead of struct timeval and gettimeofday

2009-10-19  Daniel Verite <daniel@manitou-mail.org>

	* src/icons.h, src/mail_listview.cpp, src/msg_list_window.cpp,
	  src/msg_list_window.h, src/msg_list_window_pages.cpp: Implement
	  the abort button in the status bar for most queries
	* src/attachment.cpp, src/db.cpp, src/db.h, src/message.cpp,
	  src/selectmail.cpp, src/selectmail.h: Clean up debug code and
	  rename variables
	* xpm/Makefile.am, xpm/gtk-cancel.png: Added cancel icon

2009-10-06  Daniel Verite <daniel@manitou-mail.org>

	* src/headers_view.cpp, src/headers_view.h, src/mail_displayer.cpp:
	  Implement graphic display of Face header

2009-10-01  Daniel Verite <daniel@manitou-mail.org>

	* mdx/MANIFEST: Added manitou-spool and html indexer plugin
	* mdx/script/store_mail.sh: Removed. manitou-spool should be used
	  instead
	* mdx/script/manitou-spool: Replacement for store_mail.sh
	* configure.in: Version 0.9.13

2009-09-29  Daniel Verite <daniel@manitou-mail.org>

	* ChangeLog:
	* NEWS: date change
	* src/edit_rules.cpp: Simplify button stretchs
	* src/msg_list_window.cpp: Handle quoting of selection from
	  text/html into a text/plain reply

2009-09-07  Daniel Verite <daniel@manitou-mail.org>

	* src/newmailwidget.cpp, src/newmailwidget.h: Disable insert-file
	  and send-message commands while editing html source

2009-09-05  Daniel Verite <daniel@manitou-mail.org>

	* src/main.cpp: simplified path settings

2009-08-30  Daniel Verite <daniel@manitou-mail.org>

	* mdx/script/manitou-mdx: Import text/html top-level MIME parts
	  into body.bodyhtml instead of as an attachment
	* mdx/Makefile.PL: Replace store_mail.sh with manitou-spool

2009-08-29  Daniel Verite <daniel@manitou-mail.org>

	* ChangeLog, src/html_editor.cpp, src/html_editor.h,
	  src/newmailwidget.cpp, src/newmailwidget.h, xpm/Makefile.am,
	  xpm/html/Makefile.am, xpm/html/stock_view-html-source.png: Added
	  HTML code editor to composer

2009-08-27  Daniel Verite <daniel@manitou-mail.org>

	* src/icons.h, src/msg_list_window.cpp, src/msg_list_window.h,
	  src/searchbox.cpp, src/searchbox.h, xpm/clear_edit.png: Added a
	  clear-edit button to the search lineedit

2009-08-26  Daniel Verite <daniel@manitou-mail.org>

	* src/newmailwidget.cpp: Fixed html to text switch bug
	* src/query_listview.h, src/tagsbox.cpp, src/tagsbox.h,
	  src/tagsdialog.cpp, src/tagsdialog.h: Use case-insensitive sort
	  for tags

2009-08-22  Daniel Verite <daniel@manitou-mail.org>

	* src/html_editor.cpp, src/mail_listview.cpp,
	  src/msg_list_window.cpp, src/query_listview.cpp,
	  src/sqlstream.cpp, src/tagsbox.cpp: Fixed some debug output
	* src/newmailwidget.cpp, src/newmailwidget.h: Fix "insert file" bug
	  (buffer)
	  Handle the switch between formats (plain/html) during editing

2009-08-15  Daniel Verite <daniel@manitou-mail.org>

	* mdx/lib/Manitou/Plugins/html_indexer.pm: Indexer plugin for HTML
	  parts

2009-08-12  Daniel Verite <daniel@manitou-mail.org>

	* src/db.cpp, src/message_view.cpp, src/message_view.h,
	  src/msg_list_window.cpp: Fix empty quoted body on reply to an
	  html-only message

2009-08-10  Daniel Verite <daniel@manitou-mail.org>

	* src/attachment.cpp, src/body_view.cpp, src/html_editor.cpp,
	  src/main.cpp, src/message.cpp, src/message_port.cpp,
	  src/message_view.cpp: Minor changes related to debug messages
	* src/newmailwidget.cpp:
	* src/html_editor.cpp, translations/manitou_fr.ts: Fix translations
	  of images types for QFileDialog

2009-08-08  Daniel Verite <daniel@manitou-mail.org>

	* mdx/script/manitou-mdx, mdx/script/manitou-mgr: Force client
	  encoding as UTF8 and don't apply db_decode() to the HTML body
	  part

2009-08-06  Daniel Verite <daniel@manitou-mail.org>

	* mdx/Makefile.PL: Bump to 0.9.13
	* translations/manitou_fr.ts: French translation updated

2009-08-05  Daniel Verite <daniel@manitou-mail.org>

	* src/html_editor.cpp: Refocus to the editor window after the
	  toolbar comboboxes are used (necessary for win32)
	* src/html_editor.cpp, src/html_editor.h: Readded as real files
	* src/html_editor.cpp, src/html_editor.h: Remove links
	* ChangeLog, NEWS:
	* mdx/lib/Manitou/Attachments.pm, mdx/lib/Manitou/Schema.pm,
	  mdx/script/manitou-mdx: Added support for sending
	  multipart/alternative plain and html messages
	  with the new column body.bodyhtml
	  Bump to 0.9.13
	* sql/crpg.sql, sql/upgrade-0.9.13.sql: Add support for HTML body
	  and bumps to 0.9.13
	* src/Makefile.am, src/app_config.cpp, src/db.h,
	  src/edit_address_widget.cpp, src/edit_rules.cpp,
	  src/html_editor.cpp, src/html_editor.h, src/icons.h,
	  src/mail_displayer.cpp, src/mail_displayer.h, src/message.cpp,
	  src/message_view.cpp, src/message_view.h,
	  src/msg_list_window.cpp, src/newmailwidget.cpp,
	  src/newmailwidget.h, src/preferences.cpp, src/preferences.h,
	  src/ui_controls.h: Added support for composing HTML messages
	* Makefile.am, configure.in: Added xpm/html directory
	* xpm/html, xpm/html/Makefile.am, xpm/html/icon-align-left.png,
	  xpm/html/icon-align-right.png, xpm/html/icon-anchor.png,
	  xpm/html/icon-background-color.png, xpm/html/icon-bold.png,
	  xpm/html/icon-bullet-list.png, xpm/html/icon-center.png,
	  xpm/html/icon-copy.png, xpm/html/icon-cut.png,
	  xpm/html/icon-eraser.png, xpm/html/icon-foreground-color.png,
	  xpm/html/icon-hr.png, xpm/html/icon-image.png,
	  xpm/html/icon-indent-left.png, xpm/html/icon-indent-right.png,
	  xpm/html/icon-italic.png, xpm/html/icon-justify.png,
	  xpm/html/icon-link.png, xpm/html/icon-ordered-list.png,
	  xpm/html/icon-paste.png, xpm/html/icon-quote.png,
	  xpm/html/icon-redo.png, xpm/html/icon-strikethrough.png,
	  xpm/html/icon-subscript.png, xpm/html/icon-superscript.png,
	  xpm/html/icon-underline.png, xpm/html/icon-undo.png: Icons for
	  the HTML editor
	* src/attachment.cpp, src/attachment.h: Implement guess_mime_type

2009-08-04  Daniel Verite <daniel@manitou-mail.org>

	* src/main.h: Includes QDebug
	* src/main.cpp: Added comments about global_debug_level
	* src/attachment.cpp, src/attachment.h: Added ability to generate
	  mime_content_id
	* src/sql_editor.cpp, src/sql_editor.h: Use QPlainTextEdit instead
	  of QTextEdit

2009-07-13  Daniel Verite <daniel@manitou-mail.org>

	* src/attachment.cpp: Added some debug output
	* src/db.cpp: Force use of PG standard_conforming_strings
	* src/body_view.cpp, src/body_view.h: Highlight searched terms with
	  a yellow background (JS code) instead of using the selection

2009-07-09  Daniel Verite <daniel@manitou-mail.org>

	* mdx/MANIFEST: Added Schema.pm
	* ChangeLog: 0.9.12
	* src/msg_list_window.h: Added missing m_ignore_selection_change
	* NEWS: 0.9.12
	* src/msg_list_window.cpp: Don't try to display while deleting or
	  trashing a bunch of messages
	* mdx/script/manitou-mdx: Truncate the address fields if necessary

2009-06-21  Daniel Verite <daniel@manitou-mail.org>

	* src/mail_listview.cpp, src/msg_list_window.cpp,
	  src/msg_list_window.h, src/msg_list_window_pages.cpp,
	  src/query_listview.cpp, src/query_listview.h: Improved
	  highlighting and un-hilighting entries in the quick query
	  listview on selection change
	* src/message.cpp, src/message_view.cpp, src/message_view.h,
	  src/msg_list_window.cpp, src/newmailwidget.cpp: Improved text
	  quoting on reply

2009-06-15  Daniel Verite <daniel@manitou-mail.org>

	* xpm/Makefile.am, xpm/header.png: Added header.png
	* src/body_view.cpp: Limit resetting the style sheet to avoid
	  visual annoyances
	* src/newmailwidget.cpp: Added translation
	* src/message_view.cpp, src/message_view.h: Remove unused variables

2009-06-14  Daniel Verite <daniel@manitou-mail.org>

	* translations/manitou_fr.ts: Updated french translation

2009-06-13  Daniel Verite <daniel@manitou-mail.org>

	* mdx/lib/Manitou/Schema.pm, mdx/script/manitou-mgr: Bump version
	* sql/Makefile.am, sql/crpg.sql, sql/upgrade-0.9.11.sql,
	  sql/upgrade-0.9.12.sql: Changes for 0.9.12

2009-06-08  Daniel Verite <daniel@manitou-mail.org>

	* ChangeLog, README, configure.in: Version change

2009-06-07  Daniel Verite <daniel@manitou-mail.org>

	* src/edit_address_widget.cpp, src/edit_address_widget.h,
	  src/newmailwidget.cpp: Minor improvements in auto-completion of
	  addresses
	* mdx/lib/Manitou/Plugins/trashcan_purge.pm: Use the delay_days
	  parameter
	* mdx/Makefile.PL: Bump revision
	* mdx/script/manitou-mdx: Fixed Encode calls that resulted in lack
	  of word-indexing for outgoing mail
	* mdx/MANIFEST: Added trashcan_purge plugin
	* mdx/lib/Manitou/Words.pm, mdx/script/manitou-mgr: Added to
	  manitou-mgr the ability to search within the inverted word index
	* src/Makefile.am, src/addresses.cpp, src/addresses.h,
	  src/edit_address_widget.cpp, src/edit_address_widget.h,
	  src/icons.h, src/newmailwidget.cpp, src/newmailwidget.h,
	  src/selectmail.cpp: New popup-like auto-completion for email
	  addresses
	  Large revamp of header fields in composer.
	* src/attachment.cpp, src/database.h, src/db.cpp: Fixed issues with
	  missing attachments in database (missing large objects)

2009-05-31  Daniel Verite <daniel@manitou-mail.org>

	* mdx/lib/Manitou/Plugins/trashcan_purge.pm: Plugin that deletes
	  the oldest messages of the trashcan
	* src/addresses.cpp, src/body_view.cpp, src/body_view.h,
	  src/message_view.cpp, src/message_view.h,
	  src/mime_msg_viewer.cpp: Fix the wheel events not working for
	  webviews with Qt-4.5

2009-04-16  Daniel Verite <daniel@manitou-mail.org>

	* mdx/lib/Manitou/Schema.pm: Database schema definition
	* mdx/script/manitou-mgr: Implement create-schema and
	  create-database actions

2009-04-15  Daniel Verite <daniel@manitou-mail.org>

	* mdx/script/manitou-mgr: Add pod contents

2009-04-12  Daniel Verite <daniel@manitou-mail.org>

	* help/en/connecting.html, help/fr/connecting.html: remove
	  references to unix for the default username

2009-03-01  Daniel Verite <daniel@manitou-mail.org>

	* src/newmailwidget.cpp: Fix size of headers in address list

2009-02-22  Daniel Verite <daniel@manitou-mail.org>

	* src/body_view.cpp, src/message_view.h, src/msg_list_window.cpp,
	  src/msg_list_window.h, src/msg_list_window_pages.cpp: Implement
	  shortcuts N for select next message and P for select previous
	  Remove obsolete code that did this with cursor keys when the body
	  had
	  the focus. The code didn't work since webkit was used anyway.
	* src/newmailwidget.cpp, src/newmailwidget.h: Use QPlainTextEdit
	  instead of QTextEdit, to avoid pasting richtext

2009-02-20  Daniel Verite <daniel@manitou-mail.org>

	* src/message.cpp: don't try to append empty contents to quoted
	  text

2009-02-19  Daniel Verite <daniel@manitou-mail.org>

	* src/attachment.cpp, src/mailheader.cpp, src/mailheader.h,
	  src/mime_msg_viewer.cpp, src/mime_msg_viewer.h,
	  src/msg_list_window.cpp: Fix transaction not ended when storing
	  an empty file as attachment
	  Fix loading bugs for empty attachments (no entry in
	  attachment_contents)

2009-02-04  Daniel Verite <daniel@manitou-mail.org>

	* src/message_view.cpp: Fix stupid resize bug

2009-01-19  Daniel Verite <daniel@manitou-mail.org>

	* src/body_view.cpp, src/message_view.cpp: The hack of setting the
	  viewport's size to a near-zero value didn't work
	  so well for short contents.
	  So we're switching to another one, somehow no less pathetic but
	  that
	  appears to works better: when the load is finished, we increment
	  the
	  widget height so as to force the QWebView to recompute a good
	  contents size in all cases. Then we shrink the height back to its
	  previous value.

2009-01-18  Daniel Verite <daniel@manitou-mail.org>

	* src/body_view.cpp, src/db.h, src/headers_view.cpp,
	  src/headers_view.h, src/message.cpp, src/message_view.cpp,
	  src/message_view.h, src/msg_list_window.cpp,
	  src/msg_list_window.h: Implement partial load for messages with
	  large text body
	  (currently >30k, will become user definable later)

2009-01-12  Daniel Verite <daniel@manitou-mail.org>

	* src/about.cpp, src/about.h: Bump date
	* src/body_view.cpp, src/body_view.h, src/message_view.cpp,
	  src/message_view.h: Fix highlight_terms() by highlighting only
	  when load is finished
	  Minor fixes on setting style sheets and redisplaying
	  Implement body_view::clear_selection()
	  Added commented version of an alternative empty QNetworkReply

2008-12-29  Daniel Verite <daniel@manitou-mail.org>

	* src/mail_listview.cpp: Step up the debug level
	* src/msg_list_window.cpp: Use triggered() signal for actions
	  instead of the obsolete activated()

2008-12-23  Daniel Verite <daniel@manitou-mail.org>

	* translations/manitou_fr.ts: Fix typo
	* translations/manitou_fr.ts: Update french translation

2008-12-20  Daniel Verite <daniel@manitou-mail.org>

	* src/body_view.cpp, src/body_view.h, src/mail_listview.cpp,
	  src/message_view.cpp, src/msg_list_window.cpp: Declare our own
	  stylesheet through QWebSettings rather than adding <style>
	  declarations. Style thus applies to html parts as well.
	  Don't get contents size after initialLayout but after
	  loadFinished, otherwise it can be wrong

2008-12-19  Daniel Verite <daniel@manitou-mail.org>

	* translations/manitou_de.ts: Update for 0.9.11

2008-12-10  Daniel Verite <daniel@manitou-mail.org>

	* src/body_view.cpp, src/body_view.h, src/headers_view.cpp,
	  src/headers_view.h, src/mail_displayer.cpp, src/message_view.cpp,
	  src/message_view.h, src/msg_list_window.cpp,
	  src/msg_list_window.h, src/msg_list_window_pages.cpp: - font
	  choice for message body now taken into account (for text parts
	  only)
	  - "fetch on demand" option now working
	  - body prefetch now working
	  - cosmetic changes on filter logs display
	  - horizontal scrollbars should now appear for html contents that
	  can't
	  be wrapped.
	  - zoom for body view

2008-12-06  Daniel Verite <daniel@manitou-mail.org>

	* src/query_listview.cpp: more debug
	* mdx/lib/Manitou/Config.pm, mdx/script/manitou-mdx: Added exclude
	  contents for future use
	* NEWS: Update for 0.9.11
	* ChangeLog: Update for 0.9.11

2008-12-05  Daniel Verite <daniel@manitou-mail.org>

	* src/mail_displayer.cpp, src/mail_displayer.h: Fixed display of
	  filters containing brackets
	* src/headers_view.cpp, src/headers_view.h, src/message_view.cpp,
	  src/message_view.h: Fixed selection and copy() in message_view

2008-12-03  Daniel Verite <daniel@manitou-mail.org>

	* NEWS: Updated for 0.9.11
	* translations/manitou_fr.ts: Update for 0.9.11

2008-12-02  Daniel Verite <daniel@manitou-mail.org>

	* src/message_view.cpp, src/mime_msg_viewer.cpp,
	  src/mime_msg_viewer.h, src/msg_list_window.cpp: Make
	  mime_msg_viewer user message_view
	  Attachments with content type 'text/rfc822-headers' are now
	  displayed by mime_msg_viewer

2008-12-01  Daniel Verite <daniel@manitou-mail.org>

	* src/message_view.cpp: Implement highlight_terms, print
	  Bugfix on missing m_pmsg initialization
	* src/msg_list_window.cpp: Cleanup
	* src/headers_view.cpp, src/headers_view.h: Implement
	  highlight_terms
	* src/searchbox.h: Moved searched_text here
	* src/Makefile.am, src/attachment.cpp, src/attachment.h: Implement
	  attachment_network_reply() with qiodevice-like API for reading
	  attachments
	* src/body_view.cpp, src/body_view.h: Implement highlight_terms as
	  much as possible (first occurrence only)

2008-11-29  Daniel Verite <daniel@manitou-mail.org>

	* src/message_view.cpp: Implement clear()
	* src/edit_rules.cpp, src/edit_rules.h: Added support for editing
	  filter's direction
	* src/msg_list_window.cpp: Clear the body panel when no message is
	  selected
	* src/sqlstream.cpp: Removed warning in destructor
	* src/Makefile.am, src/preferences.cpp, src/ui_controls.h: Moved
	  button_group class to its own file

2008-11-28  Daniel Verite <daniel@manitou-mail.org>

	* configure.in: Removed sql subdirectory
	* configure.in: Qt-4.4 is required
	* src/Makefile.am, src/about.cpp, src/attachment.cpp,
	  src/attachment.h, src/attachment_listview.cpp, src/body_view.cpp,
	  src/body_view.h, src/browser.cpp, src/browser.h,
	  src/headers_view.cpp, src/headers_view.h, src/helper.cpp,
	  src/identities.cpp, src/mail_displayer.cpp, src/mail_displayer.h,
	  src/mail_listview.cpp, src/message.cpp, src/message_view.cpp,
	  src/message_view.h, src/mime_msg_viewer.cpp,
	  src/mime_msg_viewer.h, src/msg_list_window.cpp,
	  src/msg_list_window.h, src/msg_list_window_pages.cpp,
	  src/newmailwidget.cpp, src/preferences.cpp, src/preferences.h:
	  Use webkit to display body and html contents
	  Include app_config.h
	* sql/crpg.sql, sql/upgrade-0.9.11.sql: Added
	  attachments.mime_content_id
	* src/app_config.cpp, src/app_config.h, src/db.cpp, src/db.h,
	  src/main.cpp, src/main.h: Move app_config to its own source files

2008-11-27  Daniel Verite <daniel@manitou-mail.org>

	* src/sqlstream.cpp, src/sqlstream.h: Add support for the char type
	* src/filter_rules.cpp, src/filter_rules.h: Handle
	  filter_expr.direction column
	* src/edit_rules.cpp, src/edit_rules.h: Implement stop and redirect
	  actions

2008-11-26  Daniel Verite <daniel@manitou-mail.org>

	* mdx/lib/Manitou/Filters.pm: Don't use "us" for microseconds since
	  it fails with early pg-8.2
	  versions

2008-11-25  Daniel Verite <daniel@manitou-mail.org>

	* mdx/lib/Manitou/Attachments.pm: Add attachments.mime_content_id

2008-11-18  Daniel Verite <daniel@manitou-mail.org>

	* src/mail_listview.h: Added Q_OBJECT macro, otherwise tr() fails

2008-11-15  Daniel Verite <daniel@manitou-mail.org>

	* src/Makefile.am, src/filter_log.cpp, src/filter_log.h,
	  src/filter_rules.cpp, src/mail_displayer.cpp,
	  src/mail_displayer.h, src/message.cpp, src/msg_list_window.cpp,
	  src/msg_list_window.h: Added optional display of filter_log
	  entries
	* sql/crpg.sql, sql/upgrade-0.9.11.sql: Added filter_expr.direction
	  and filter_log

2008-11-14  Daniel Verite <daniel@manitou-mail.org>

	* mdx/lib/Manitou/Filters.pm, mdx/script/manitou-mdx: Implement
	  filter directions, incoming or outgoing or both
	  Make filter_log entries sortable by hit_date
	  Cache the result of decoding for the headers() function
	  Implement rawheaders()
	  Specify number of args for each filter function

2008-11-13  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp: Fixed non-working Display->"Fetch on
	  demand" checkbox

2008-11-12  Daniel Verite <daniel@manitou-mail.org>

	* mdx/Makefile.PL, mdx/lib/Manitou/Filters.pm,
	  mdx/script/manitou-mdx: Bumped version to 0.9.11
	  Added filter hit logging in filter_log table
	  Added redirect and stop in filter actions
	  Added headers and recipients functions in filter expressions

2008-11-09  Daniel Verite <daniel@manitou-mail.org>

	* mdx/script/manitou-mgr: Bugfix on action merge-attachments: don't
	  try to remove several times
	  the same large objects

2008-11-08  Daniel Verite <daniel@manitou-mail.org>

	* mdx/script/manitou-mgr: Updated version number and removed
	  trashed_mail from the list of tables

2008-11-04  Daniel Verite <daniel@manitou-mail.org>

	* mdx/MANIFEST, mdx/lib/Manitou/Plugins/pdfindexer.pm: Added PDF
	  indexer plugin from Luis Amigo
	* mdx/script/manitou-mdx: Use die instead of croak
	  Bump to 0.9.10
	  No longer insert into trashed_mail
	* mdx/lib/Manitou/Encoding.pm: Deal with undefined aliases for
	  character sets
	* src/version.h: Bump version number
	* sql/upgrade-0.9.10.sql: Added RI constraints for
	  mail_tags.mail_id
	* sql/crpg.sql: Added RI constraints and failsafe creation of
	  plpgsql language

2008-11-01  Daniel Verite <daniel@manitou-mail.org>

	* translations/manitou_fr.ts: Update for 0.9.10

2008-10-29  Daniel Verite <daniel@manitou-mail.org>

	* src/Makefile.am, src/icons.h, src/mail_listview.cpp,
	  src/msg_list_window.cpp, src/xpm_attached.h, src/xpm_forwarded.h,
	  src/xpm_new.h, src/xpm_processed.h, src/xpm_read.h,
	  src/xpm_replied.h, src/xpm_trash.h, xpm/Makefile.am,
	  xpm/status_attached.png, xpm/status_forwarded.png,
	  xpm/status_new.png, xpm/status_processed.png,
	  xpm/status_read.png, xpm/status_replied.png,
	  xpm/status_trashed.png, xpm/trashcan.xpm, xpm/xpm_processed.xpm,
	  xpm/xpm_read.xpm: Remove the icons from src/ and convert them to
	  PNG format

2008-10-28  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp, src/sqlstream.h, src/tags.cpp,
	  src/tags.h, src/tagsbox.cpp, src/users.cpp: Fix compiler warnings
	* src/login.cpp, src/login.h, src/main.cpp: Implement local storage
	  for the database connection settings
	* sql/upgrade-0.9.10.sql: Convert trashed_mail before setting RI
	  constraints
	* sql/upgrade-0.9.10.sql: Add functions and transform trashed_mail
	  into a view
	* src/main.cpp: Improve translation loading

2008-10-26  Daniel Verite <daniel@manitou-mail.org>

	* src/selectmail.cpp: Don't use trashed_mail, use mail with status
	  instead

2008-10-25  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp: Workaround for a bug in Qt-4.x (where
	  x<4) that made the attachments
	  panel sometimes being resized to a null height.
	* sql/crpg.sql, sql/upgrade-0.9.10.sql: Upgrade to version 0.9.10
	  of the schema
	* translations/manitou_de.ts: Latest version courtesy of Jens
	  Krner
	* src/mailheader.cpp, src/msgs_page_list.cpp, src/sqlquery.cpp:
	  Compilation fixes for gcc-4.3.2

2008-09-23  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp, src/msg_list_window.h: Fixed visual
	  update of status for messages just replied to or forwarded

2008-09-21  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp: Changes due to malfunctions seen with
	  Qt-4.4's QTreeView
	  - removed call to setSortIndicator() that inverts the sort
	  - added call to expandAll() after the sort phase otherwise some
	  random branches are left unexpanded

2008-09-12  Daniel Verite <daniel@manitou-mail.org>

	* src/main.cpp: Fix default configuration name construction

2008-08-27  Daniel Verite <daniel@manitou-mail.org>

	* xpm/xpm_processed.xpm: Fix transparency problem

2008-08-26  Daniel Verite <daniel@manitou-mail.org>

	* src/sqlstream.cpp: Fix the interpretation of double-colon style
	  casts as parameters in queries
	  In sqlstream destructor, warn about non-bound parameters
	* src/xpm_new.h: fix transparency that xpaint had removed

2008-08-11  Daniel Verite <daniel@manitou-mail.org>

	* xpm/xpm_processed.xpm: Resize to 16x16
	* src/xpm_new.h: convert to 16x16

2008-08-05  Daniel Verite <daniel@manitou-mail.org>

	* translations/manitou_de.ts: Updated translation

2008-07-23  Daniel Verite <daniel@manitou-mail.org>

	* src/newmailwidget.cpp, src/newmailwidget.h: Fixed the identity
	  change functionality that no longer worked since the transition
	  to Qt4's QActionGroup
	* src/addresses.h: Fix garbage value for m_invalid

2008-07-20  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp: display_body(): force html instead of
	  letting Qt guess

2008-07-19  Daniel Verite <daniel@manitou-mail.org>

	* src/newmailwidget.cpp: Fixed QFile::open() args for Insert File

2008-07-18  Daniel Verite <daniel@manitou-mail.org>

	* src/main.cpp: Fix the language code used to load the translation
	  files

2008-07-17  Daniel Verite <daniel@manitou-mail.org>

	* translations/Makefile.am, translations/manitou_de.ts: Added
	  german translation by Jens Krner

2008-06-24  Daniel Verite <daniel@manitou-mail.org>

	* src/newmailwidget.cpp: Rewording of error message
	* src/msg_list_window_pages.cpp: Bugfix: remove a crash when
	  deleting a message displayed in two different lists

2008-06-10  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp: bugfix on unintended trashed mail
	  selection by query listview entries
	* src/main.cpp: Unify argv parse code between windows and
	  non-windows platforms

2008-06-08  Daniel Verite <daniel@manitou-mail.org>

	* src/browser.cpp: Use the QDesktopServices class instead of our
	  own code to launch the browser

2008-06-07  Daniel Verite <daniel@manitou-mail.org>

	* configure.in: Require at least Qt-4.3.3

2008-06-06  Daniel Verite <daniel@manitou-mail.org>

	* src/mail_displayer.cpp: Express problematic unicode chars as html
	  entities
	* src/mailheader.cpp, src/main.cpp: small fixes for windows qt4

2008-06-04  Daniel Verite <daniel@manitou-mail.org>

	* src/selectmail.cpp: Fix layout problem
	* src/msg_list_window.cpp: Fix statusbar problems and unwanted
	  inclusion of trashed messages in some selections
	* src/attachment.cpp: Fix order of inserts to avoid referential
	  integrity issue
	* src/message.cpp: Remove references to trashed_mail
	* src/sqlstream.cpp: Fix double encoding problem for
	  sql_stream::operator<<(const char*)

2008-05-30  Daniel Verite <daniel@manitou-mail.org>

	* configure.in: Remove the qt3support lib
	* src/about.cpp, src/about.h, src/addressbook.cpp,
	  src/addresses.cpp, src/addresses.h, src/attachment.cpp,
	  src/attachment_listview.cpp, src/body_edit.cpp,
	  src/body_view.cpp, src/body_view.h, src/browser.cpp, src/db.cpp,
	  src/dragdrop.h, src/edit_rules.cpp, src/headers_groupview.cpp,
	  src/helper.cpp, src/identities.cpp, src/login.cpp,
	  src/mail_displayer.cpp, src/mail_listview.cpp,
	  src/mail_listview.h, src/mailheader.cpp, src/main.cpp,
	  src/main.h, src/message.cpp, src/mime_msg_viewer.cpp,
	  src/msg_list_window.cpp, src/msg_list_window.h,
	  src/msg_list_window_pages.cpp, src/msg_properties.cpp,
	  src/newmailwidget.cpp, src/newmailwidget.h, src/notewidget.cpp,
	  src/preferences.cpp, src/prog_chooser.cpp, src/searchbox.cpp,
	  src/selectmail.cpp, src/sql_editor.cpp, src/sqlquery.cpp,
	  src/sqlquery.h, src/sqlstream.cpp, src/tags.cpp, src/tags.h,
	  src/tagsdialog.cpp, src/tagsdialog.h, src/user_queries.cpp,
	  src/words.cpp: Removed the Qt3 support stuff
	* mdx/lib/Manitou/Attachments.pm, mdx/script/manitou-mdx: Change
	  the order of some inserts to allow referential integrity
	  constraints
	* mdx/Makefile.PL: Bump version to 0.9.10

2008-05-13  Daniel Verite <daniel@manitou-mail.org>

	* src/helper.cpp, src/helper.h: Added an accessor for m_track_mode

2008-03-05  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp, src/query_listview.cpp,
	  src/selectmail.cpp: Fix some tests on mail.status and joining
	  with mail_status, in relation with the merging of trashed_mail
	  and mail

2008-03-04  Daniel Verite <daniel@manitou-mail.org>

	* sql/delete_msg.sql: Remove raw_mail entry associated large object
	* sql/delete_msg_set.sql, sql/trash_msg.sql, sql/trash_msg_set.sql,
	  sql/untrash_msg.sql: New functions moved to their own files

2008-02-27  Daniel Verite <daniel@manitou-mail.org>

	* mdx/MANIFEST, mdx/lib/Manitou/Plugins/tnef_decoder.pm: Added TNEF
	  decoder plugin for outlook/exchange attachments un-bundling

2008-02-17  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp, src/query_listview.cpp,
	  src/query_listview.h: Restore the order of items that existed
	  with Q3ListView
	  Rename unprocessed to current

2008-02-10  Daniel Verite <daniel@manitou-mail.org>

	* src/db.h, src/msg_list_window.cpp, src/msg_list_window.h,
	  src/tagsbox.cpp, src/tagsbox.h: bugfix: the tag counters for
	  current messages was improperly incremented when tagging a
	  non-current message

2008-02-01  Daniel Verite <daniel@manitou-mail.org>

	* src/query_listview.cpp, src/query_listview.h: added
	  clear_selection()
	* sql/crpg.sql, sql/delete_msg.sql, sql/triggers_on_mail.sql,
	  src/db.h, src/message.cpp: trashed_mail merged with mail

2008-01-30  Daniel Verite <daniel@manitou-mail.org>

	* mdx/lib/Manitou/Plugins/mswordindexer.pm: Remove the print
	  (debug)

2008-01-29  Daniel Verite <daniel@manitou-mail.org>

	* src/selectmail.cpp: parse_search_string(): underscore is no
	  longer a word delimiter
	* src/sqlstream.cpp: accept underscore in sqlstream parameter names

2008-01-27  Daniel Verite <daniel@manitou-mail.org>

	* mdx/lib/Manitou/Plugins/mswordindexer.pm: Update the indexing
	  code to use the current word index
	* src/attachment.cpp: get_temp_location: remove os-dependent code
	  and fix a redondant dir separator bug

2008-01-26  Daniel Verite <daniel@manitou-mail.org>

	* src/mail_listview.cpp: Remove the debug code showing the mail_id
	  in the priority column

2008-01-23  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp: When saving unnamed attachments wait
	  until the file dialog is accepted before disabling user
	  interaction

2008-01-21  Daniel Verite <daniel@manitou-mail.org>

	* translations/Makefile.am, translations/manitou_es.ts: Added
	  spanish translation (Luis Amigo)

2008-01-13  Daniel Verite <daniel@manitou-mail.org>

	* mdx/script/manitou-mgr: Add --print-size command
	  Pay attention to opt_quiet when running --merge-attachments

2008-01-12  Daniel Verite <daniel@manitou-mail.org>

	* src/Makefile.am, src/about.cpp, src/addressbook.cpp,
	  src/addressbook.h, src/attachment.h, src/attachment_listview.cpp,
	  src/attachment_listview.h, src/body_view.cpp, src/body_view.h,
	  src/date.cpp, src/date.h, src/db.h, src/edit_rules.cpp,
	  src/icons.h, src/mail_displayer.cpp, src/mail_displayer.h,
	  src/mail_listview.cpp, src/mail_listview.h, src/mailheader.cpp,
	  src/mailitem.cpp, src/mailitem.h, src/main.cpp, src/manitou.pro,
	  src/message.cpp, src/message_port.cpp, src/message_port.h,
	  src/mime_msg_viewer.cpp, src/msg_list_window.cpp,
	  src/msg_list_window.h, src/msg_list_window_pages.cpp,
	  src/msg_properties.cpp, src/msg_properties.h,
	  src/newmailwidget.cpp, src/newmailwidget.h,
	  src/query_listview.cpp, src/query_listview.h, src/selectmail.cpp,
	  src/selectmail.h, src/tagsbox.cpp, src/tagsbox.h, src/version.h:
	  Removal of Q3xx classes, fixing a few minor bugs in the process

2008-01-11  Daniel Verite <daniel@manitou-mail.org>

	* configure.in: Bump to 0.9.10

2007-12-28  Daniel Verite <daniel@manitou-mail.org>

	* help/en/menus.html, help/fr/menus.html: Fix style.css path

2007-12-12  Daniel Verite <daniel@manitou-mail.org>

	* src/db.h, src/mailitem.cpp, src/message.cpp: bugfix: the default
	  identity was no longer set when replying

2007-12-09  Daniel Verite <daniel@manitou-mail.org>

	* ChangeLog, NEWS: 0.9.9 release
	* src/message.cpp: Fix typo in mail_msg constructor
	* mdx/MANIFEST: Replace manitou-reindex-words.pl by manitou-mgr
	* mdx/Makefile.PL, mdx/script/manitou-mgr,
	  mdx/script/manitou-reindex-words.pl: Replace
	  manitou-reindex-words.pl by the more general manitou-mgr
	  Add the dependency on SHA1 to Makefile.PL
	* mdx/Makefile.PL, mdx/lib/Manitou/Attachments.pm,
	  mdx/script/manitou-mdx: Bump version to 0.9.9
	  Implement sharing of attachment contents at import time with SHA1
	  fingerprints
	* src/db.h: Remove warnings on initialization order of members
	* configure.in: Bump version to 0.9.9
	* src/message.cpp: The delete_msg pgSQL function is now required to
	  delete a message
	* src/Makefile.am, src/attachment.cpp, src/attachment.h,
	  src/manitou.pro, src/sha1.cpp, src/sha1.h: Add computing of SHA1
	  fingerprint on attachment contents
	* sql/crpg.sql, sql/delete_msg.sql, sql/upgrade-0.9.9.sql: Bump to
	  0.9.9
	  Finish attachments fingerprint implementation
	* mdx/MANIFEST: Removed META.yml from the required files, to avoid
	  MakeMaker complaining about its absence, although it's its job to
	  generate it (chicken and egg problem?)

2007-12-01  Daniel Verite <daniel@manitou-mail.org>

	* src/newmailwidget.cpp, src/newmailwidget.h,
	  translations/manitou_fr.ts: Add the "other identity" choice in
	  mail composing

2007-11-29  Daniel Verite <daniel@manitou-mail.org>

	* ChangeLog:
	* sql/crpg.sql: Include delete_msg.sql

2007-11-18  Daniel Verite <daniel@manitou-mail.org>

	* src/db.cpp, src/login.cpp, src/login.h, src/main.cpp,
	  src/preferences.cpp: Fix handling of connection errors at startup
	  time
	  Fix spelling of connection
	* translations/manitou_fr.ts: english: connection, french:
	  connexion
	* help/en/img/Makefile.am, help/fr/img/Makefile.am: Use pkgdatadir
	  instead of datadir
	* src/Makefile.am, src/main.cpp, src/main.h: Use MANITOU_DATADIR
	  since DATADIR clashes with windows.h
	  Fix type of arguments for QApplication constructor
	* NEWS: new version
	* help/fr/attachments.html, help/fr/command.html,
	  help/fr/configurations.html, help/fr/connecting.html,
	  help/fr/filters.html, help/fr/index.html, help/fr/menus.html,
	  help/fr/notes.html, help/fr/pages.html, help/fr/preferences.html,
	  help/fr/querysel.html, help/fr/quicksel.html,
	  help/fr/remote.html, help/fr/retrieve.html, help/fr/sql.html,
	  help/fr/tags.html, help/fr/wordsearch.html: Specify UTF8 as the
	  charset

2007-11-13  Daniel Verite <daniel@manitou-mail.org>

	* help/en/Makefile.am, help/fr/Makefile.am: Use pkgdatadir instead
	  of datadir
	* configure.in, src/Makefile.am, src/helper.cpp, src/icons.h,
	  src/main.cpp, translations/Makefile.am, xpm/Makefile.am: Use
	  pkgdatadir instead of datadir to install and locate the data
	  files
	  (help, icons, translations)

2007-11-04  Daniel Verite <daniel@manitou-mail.org>

	* src/database.h: Qt4 includes
	* src/newmailwidget.cpp, src/newmailwidget.h: Remove
	  attachment_file_dialog

2007-11-03  Daniel Verite <daniel@manitou-mail.org>

	* src/Makefile.am, src/about.cpp, src/dragdrop.h, src/helper.cpp,
	  src/helper.h, src/identities.cpp, src/identities.h,
	  src/mailitem.cpp, src/main.cpp, src/main.h,
	  src/msg_list_window.cpp, src/msg_list_window_pages.cpp,
	  src/msgs_page_list.h, src/newmailwidget.cpp,
	  src/prog_chooser.cpp, src/prog_chooser.h, src/searchbox.cpp,
	  src/selectmail.cpp, src/tagsbox.cpp: Remove build warnings

2007-11-01  Daniel Verite <daniel@manitou-mail.org>

	* src/attachment.cpp, src/attachment.h, src/msg_list_window.cpp,
	  src/preferences.cpp, src/preferences.h: Improve the launch of
	  external viewers for attachments.
	  Use QProcess if possible

2007-10-29  Daniel Verite <daniel@manitou-mail.org>

	* README.cvs: removed

2007-10-28  Daniel Verite <daniel@manitou-mail.org>

	* README: Changed release number and incorporate the now deleted
	  README.cvs
	* ChangeLog: Updated ChangeLog, now generated by svn2cl

2007-10-22  Daniel Verite <daniel@manitou-mail.org>

	* sql/crpg.sql, sql/upgrade-0.9.8.sql: 0.9.8 version
	* translations/manitou_fr.ts: Update french translation
	* translations/README: update for Qt4

2007-10-21  Daniel Verite <daniel@manitou-mail.org>

	* src/query_listview.cpp, src/user_queries.cpp: Fix renaming of an
	  existing query
	  Replace Q3PopupMenu by Qt4 QMenu

2007-10-16  Daniel Verite <daniel@manitou-mail.org>

	* src/message_port.cpp: Remove warnings
	* src/Makefile.am, src/db.cpp, src/main.cpp, src/main.h,
	  src/manitou.pro, src/msg_list_window.cpp, src/preferences.cpp,
	  src/style.cpp, src/style.h: Fix problems with QStyle in the
	  preferences (handle the default value and de-selection of a
	  style)
	  Inherit QApplication instead of using it directly
	  Get rid of Qt2 code related to styles
	* src/attachment.cpp: replace DIRECTORY_SEPARATOR by Qt standard
	  method

2007-10-15  Daniel Verite <daniel@manitou-mail.org>

	* src/attachment.cpp: When generating a filename for viewing an
	  attachment, use the mime_types table to find a proper extension

2007-10-11  Daniel Verite <daniel@manitou-mail.org>

	* src/mail_displayer.cpp, src/mail_displayer.h,
	  src/msg_list_window.cpp: Replace Outlook-generated 0x92 chars by
	  quotes

2007-10-09  Daniel Verite <daniel@manitou-mail.org>

	* src/newmailwidget.cpp: warn when the subject is empty
	* src/mailheader.cpp, src/message.cpp: Fix generation and format of
	  message-id

2007-10-01  Daniel Verite <daniel@manitou-mail.org>

	* src/query_listview.cpp, src/query_listview.h: remove compiler
	  warnings and some qt3 stuff
	* src/manitou.pro: remove debug config entry

2007-09-29  Daniel Verite <daniel@manitou-mail.org>

	* src/preferences.cpp: Fix missing display of fetch option
	* src/mailitem.cpp, src/mailitem.h, src/msg_list_window.cpp: Clear
	  the selection in the body when there's nothing to select

2007-09-26  Daniel Verite <daniel@manitou-mail.org>

	* src/mail_displayer.cpp: Improvement on URL recognition inside the
	  bodies

2007-09-25  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp, src/newmailwidget.cpp,
	  src/newmailwidget.h, src/tags.cpp, src/tags.h: Replaced some Qt3
	  stuff

2007-09-23  Daniel Verite <daniel@manitou-mail.org>

	* src/tagsbox.cpp: Qt4 port
	* src/main.cpp, src/message.cpp: remove WIN_FIXME
	* src/xface/Makefile.am: Add Qt flags
	* configure.in: Remove spurious -L in PG_LIB_DIR
	  Add windows libraries
	* acinclude.m4, configure.in, src/Makefile.am: Use AT_WITH_QT from
	  autotroll in configure

2007-09-17  Daniel Verite <daniel@manitou-mail.org>

	* src/main.cpp: typo on QTextCodec include capitalization
	* src/newmailwidget.cpp, src/newmailwidget.h: start of Qt4 port.
	* src/db.cpp, src/db.h: Qt4 port
	* src/main.cpp: Accept --debug-output option for windows
	* src/msg_list_window.cpp: Fix usage of attachments_directory
	  configuration
	* src/attachment.cpp: Fix launch_app() for windows

2007-09-16  Daniel Verite <daniel@manitou-mail.org>

	* src/mailitem.cpp, src/msg_list_window.cpp: Fixes related to
	  attachments: progress bar, default save directory, and multiple
	  selection
	* src/edit_rules.cpp, src/edit_rules.h, src/headers_groupview.cpp,
	  src/headers_groupview.h: Finish conversion to QTreeWidget for the
	  headers groupview
	* src/addressbook.cpp, src/addressbook.h: Qt4 port
	* configure.in: Bump to 0.9.8
	  Use qmake instead of m4 file for Qt flags

2007-09-15  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window_pages.cpp: add_msgs_page(): don't immediately
	  show the widgets; it was necessary with Qt3 but now produces an
	  error message with Qt4

2007-08-26  Daniel Verite <daniel@manitou-mail.org>

	* src/selectmail.cpp: OK/Cancel buttons were missing
	* src/edit_rules.cpp, src/edit_rules.h, src/filter_rules.h:
	  Replaced Qt3 classes

2007-08-25  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp, src/msg_list_window.h: Fixed toolbars
	* src/msg_list_window.cpp, src/msg_list_window.h: upgrade some qt3
	  classes to qt4 counterparts

2007-08-23  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp: "Save body" now works on a
	  multi-selection of messages

2007-08-22  Daniel Verite <daniel@manitou-mail.org>

	* src/newmailwidget.cpp: Suppressed the write in a temporary file
	  (debug) when saving the body
	* src/manitou.pro: win32: error if PGSQL_SRC is not defined and
	  remove console from CONFIG

2007-08-16  Daniel Verite <daniel@manitou-mail.org>

	* acinclude.m4: Removal of m4 macro for detecting Qt3's version and
	  installation layout. For Qt4, qmake is used instead
	* help/fr/manitou.adp, help/fr/style.css: Add missing files

2007-08-12  Daniel Verite <daniel@manitou-mail.org>

	* xpm/16_edit.png, xpm/apply-filters-16.png, xpm/close.png,
	  xpm/exec2-16.png, xpm/inbox.png, xpm/open-in-new-window-16.png,
	  xpm/pattern-about.png, xpm/properties-16.png,
	  xpm/stock_about-16.png, xpm/stock_addressbook.png,
	  xpm/stock_attach-16.png, xpm/stock_bottom-16.png,
	  xpm/stock_copy-16.png, xpm/stock_data-new-sql-query-16.png,
	  xpm/stock_delete-16.png, xpm/stock_edit-16.png,
	  xpm/stock_exec-16.png, xpm/stock_font-16.png,
	  xpm/stock_form-letter-dialog-16.png,
	  xpm/stock_form-open-in-design-mode-16.png, xpm/stock_help-16.png,
	  xpm/stock_insert-note-16.png, xpm/stock_insert-slide-16.png,
	  xpm/stock_left-16.png, xpm/stock_not-spam.png,
	  xpm/stock_notes.png, xpm/stock_open-16.png, xpm/stock_outbox.png,
	  xpm/stock_paste-16.png, xpm/stock_people.png,
	  xpm/stock_print-16.png, xpm/stock_redo-16.png,
	  xpm/stock_refresh-16.png, xpm/stock_right-16.png,
	  xpm/stock_search-16.png, xpm/stock_slide-duplicate-16.png,
	  xpm/stock_stop-16.png, xpm/stock_undelete-16.png,
	  xpm/stock_undo-16.png, xpm/stock_zoom-page-16.png,
	  xpm/undelete_message.png: Fix png bis (set mime-type property and
	  remove eol-style)
	* xpm/16_configure_mail.png, xpm/16_edit.png,
	  xpm/apply-filters-16.png, xpm/close.png, xpm/exec2-16.png,
	  xpm/inbox.png, xpm/open-in-new-window-16.png,
	  xpm/pattern-about.png, xpm/properties-16.png,
	  xpm/stock_about-16.png, xpm/stock_addressbook.png,
	  xpm/stock_attach-16.png, xpm/stock_bottom-16.png,
	  xpm/stock_copy-16.png, xpm/stock_data-new-sql-query-16.png,
	  xpm/stock_delete-16.png, xpm/stock_edit-16.png,
	  xpm/stock_exec-16.png, xpm/stock_font-16.png,
	  xpm/stock_form-letter-dialog-16.png,
	  xpm/stock_form-open-in-design-mode-16.png, xpm/stock_help-16.png,
	  xpm/stock_insert-note-16.png, xpm/stock_insert-slide-16.png,
	  xpm/stock_left-16.png, xpm/stock_not-spam.png,
	  xpm/stock_notes.png, xpm/stock_open-16.png, xpm/stock_outbox.png,
	  xpm/stock_paste-16.png, xpm/stock_people.png,
	  xpm/stock_print-16.png, xpm/stock_redo-16.png,
	  xpm/stock_refresh-16.png, xpm/stock_right-16.png,
	  xpm/stock_search-16.png, xpm/stock_slide-duplicate-16.png,
	  xpm/stock_stop-16.png, xpm/stock_undelete-16.png,
	  xpm/stock_undo-16.png, xpm/stock_zoom-page-16.png,
	  xpm/undelete_message.png: Fix png files
	* xpm/16_configure_mail.png: mime type
	* COPYING: update copyright dates

2007-08-11  Daniel Verite <daniel@manitou-mail.org>

	* src/browser.cpp: Pass utf-16 strings to ShellExecute (win32)
	* help/fr/img, help/fr/img/Makefile.am,
	  help/fr/img/attachments.png, help/fr/img/login.png,
	  help/fr/img/manitou-logo.png, help/fr/img/msgtags1.png,
	  help/fr/img/msgtags2.png, help/fr/img/msgtags3.png,
	  help/fr/img/newmail.png, help/fr/img/newquery1.png,
	  help/fr/img/notelist.png, help/fr/img/privnote.png,
	  help/fr/img/quicksel.png, help/fr/img/tagsdialog.png,
	  help/fr/img/wordsearch.png: Add missing images files
	* src/about.cpp, src/about.h, src/addressbook.cpp,
	  src/addressbook.h, src/addresses.cpp, src/addresses.h,
	  src/attachment.cpp, src/attachment.h, src/bitvector.cpp,
	  src/bitvector.h, src/body_edit.cpp, src/body_edit.h,
	  src/browser.cpp, src/browser.h, src/database.h, src/date.cpp,
	  src/date.h, src/db.cpp, src/db.h, src/dbtypes.h, src/dragdrop.h,
	  src/edit_rules.cpp, src/edit_rules.h, src/errors.cpp,
	  src/errors.h, src/filter_rules.cpp, src/filter_rules.h,
	  src/headers_groupview.cpp, src/headers_groupview.h,
	  src/helper.cpp, src/helper.h, src/icons.h, src/identities.cpp,
	  src/identities.h, src/login.cpp, src/login.h,
	  src/mail_displayer.cpp, src/mail_displayer.h,
	  src/mail_listview.cpp, src/mail_listview.h, src/mailheader.cpp,
	  src/mailheader.h, src/mailitem.cpp, src/mailitem.h, src/main.cpp,
	  src/main.h, src/manitou.pro, src/message.cpp,
	  src/message_port.cpp, src/message_port.h,
	  src/mime_msg_viewer.cpp, src/mime_msg_viewer.h,
	  src/msg_list_window.cpp, src/msg_list_window.h,
	  src/msg_list_window_pages.cpp, src/msg_properties.cpp,
	  src/msg_properties.h, src/msgs_page_list.cpp,
	  src/msgs_page_list.h, src/newmailwidget.cpp, src/newmailwidget.h,
	  src/notewidget.cpp, src/notewidget.h, src/preferences.cpp,
	  src/preferences.h, src/prog_chooser.cpp, src/prog_chooser.h,
	  src/query_listview.cpp, src/query_listview.h, src/searchbox.cpp,
	  src/searchbox.h, src/selectmail.cpp, src/selectmail.h,
	  src/sql_editor.cpp, src/sql_editor.h, src/sqlquery.cpp,
	  src/sqlquery.h, src/sqlstream.cpp, src/sqlstream.h,
	  src/style.cpp, src/style.h, src/tags.cpp, src/tags.h,
	  src/tagsbox.cpp, src/tagsbox.h, src/tagsdialog.cpp,
	  src/tagsdialog.h, src/user_queries.cpp, src/user_queries.h,
	  src/users.cpp, src/users.h, src/version.h, src/words.cpp,
	  src/words.h, src/xface/xface.pro: Qt4 port

2007-07-08  Daniel Verite <daniel@manitou-mail.org>

	* sql/crpg.sql: downcase some table names

2007-06-06  Daniel Verite <daniel@manitou-mail.org>

	* mdx/lib/Manitou/Config.pm, mdx/script/manitou-mdx: flowed format
	  support
	  bugfix: avoid sleeping between calls to import_mailfiles if
	  there's still
	  files to import on return
	* mdx/lib/Manitou/Attachments.pm: Compute the fingerprint of
	  attachments

2007-01-20  Daniel Verite <daniel@manitou-mail.org>

	* mdx/script/manitou-mdx: Plugins: accept upper case characters
	  LogSuccess(): no longer uses a global $mail_id

2007-01-19  Daniel Verite <daniel@manitou-mail.org>

	* mdx/script/manitou-mdx: In daemon mode at start time, send any
	  pending mail before importing new mail.
	  When a mailfile cannot be stated after having been first seen,
	  ignore it rather than issuing a fatal error.
	  Rename old-style function calls &func to func()
	  In import_mailfiles(), limit the consecutive imports to 20 to
	  avoid delaying too much other tasks.
	* mdx/lib/Manitou/Plugins/undouble_newlines.pm: New argument
	  "delete" to remove the original mailfile with double newlines

2007-01-13  Daniel Verite <daniel@manitou-mail.org>

	* mdx/Makefile.PL: Bump version to 0.9.8
	* mdx/lib/Manitou/Tags.pm: Encode and decode tag names when
	  reading/writing to the database
	* mdx/lib/Manitou/Encoding.pm: header_decode() now handles decoding
	  failure by returning the original argument
	* mdx/lib/Manitou/Filters.pm: The header() function is renamed to
	  rawheader() since it returns non-decoded lines
	  A new header() function returns decoded header lines
	* mdx/script/manitou-mdx: Bump version to 0.9.8
	  Handle the --tag option and 'incoming_tags' when importing
	  mailfiles
	  Decode the filters arguments from the database

2006-12-22  Daniel Verite <daniel@manitou-mail.org>

	* mdx/lib/Manitou/Config.pm: default value for preferred_charset

2006-12-16  Daniel Verite <daniel@manitou-mail.org>

	* mdx/script/manitou-mdx: The 'preferred_charset' config option now
	  supports multiple entries, the
	  first one of them that can correctly encode the body gets used
	  Fixed header encoding issues
	  Removed perl warnings

2006-12-11  Daniel Verite <daniel@manitou-mail.org>

	* scripts/manitou-mdx: Obsolete
	  manitou-mdx is now in the 'mdx' directory relative to the root of
	  the sources

2006-12-09  Daniel Verite <daniel@manitou-mail.org>

	* src/mailheader.cpp: fix mail_header::make() for non-latin
	  encodings

2006-12-05  Daniel Verite <daniel@manitou-mail.org>

	* mdx/script/manitou-reindex-words.pl: use Encode

2006-10-29  Daniel Verite <daniel@manitou-mail.org>

	* mdx/script/manitou-mdx: apply_filters: 'A'(rchived) as a status
	  argument is equivalent to 'P'(rocessed)
	  One or the other can be found depending on the version of the UI
	  with
	  which the filter rule was created
	  insert_mail: no longer set mail.msg_day, this column is obsolete
	* mdx/script/store_mail.sh: Trivial mail delivery agent that just
	  copies the standard input into
	  a file with a unique name and that matches what manitou-mdx
	  expects
	* mdx/script/manitou-reindex-words.pl: Script that rebuilds the
	  inverted word index

2006-10-16  Daniel Verite <daniel@manitou-mail.org>

	* src/users.cpp, src/users.h: New method create_if_missing()
	* src/main.cpp, src/msg_list_window.cpp, src/tagsbox.cpp,
	  src/tagsdialog.cpp: Use message_port to propagate
	  tags_restructured events
	* src/Makefile.am, src/message_port.cpp, src/message_port.h: New
	  message_port class to multiplex messages between widgets

2006-09-21  Daniel Verite <daniel@manitou-mail.org>

	* mdx/lib/Manitou/Attachments.pm: Improve validation of
	  content-type and filename
	* mdx/lib/Manitou/Plugins/spamc.pm: Accept a reference to an hash
	  as the argument
	* mdx/lib/Manitou/Encoding.pm: header_decode
	* mdx/script/manitou-mdx: Move header_decode to Manitou::Encoding
	  Truncate subject before encoding instead of after
	  Bugfix on status returned from plugin

2006-09-13  Daniel Verite <daniel@manitou-mail.org>

	* mdx/script/manitou-mdx: Initialize 'status' in plugins context
	  send_one_mail: remove unused arguments

2006-05-23  Daniel Verite <daniel@manitou-mail.org>

	* mdx/script/manitou-mdx: bugfix on parsing declaration of
	  maintenance plugins
	* mdx/lib/Manitou/Config.pm: get_conf: "strict" mode that avoids
	  falling back to common configuration

2006-05-08  Daniel Verite <daniel@manitou-mail.org>

	* src/helper.cpp, src/main.cpp: Windows version: the location of
	  help files is relative to the
	  executable rather than hard-coded

2006-04-23  Daniel Verite <daniel@manitou-mail.org>

	* mdx/MANIFEST, mdx/Makefile.PL: Add missing files
	* mdx/README: Update text for separate archive

2006-04-22  Daniel Verite <daniel@manitou-mail.org>

	* Makefile.am: Ignore the sql directory
	* configure.in: Ignore sql/Makefile
	* ChangeLog: *** empty log message ***
	* NEWS: News for 0.9.7
	* help/ihelp_en.txt: Obsolete file
	* mdx/lib/Manitou/Conf.pm: Renamed to Config.pm
	* help/Makefile.am: Add fr directory
	* mdx/lib/Manitou/Attachments.pm: Limit the filename's length to
	  the size of the db field
	* translations/manitou_fr.ts: Remove double shortcut for "A"
	* help/fr/attachments.html, help/fr/command.html,
	  help/fr/configurations.html, help/fr/connecting.html,
	  help/fr/filters.html, help/fr/index.html, help/fr/menus.html,
	  help/fr/notes.html, help/fr/pages.html, help/fr/preferences.html,
	  help/fr/quicksel.html, help/fr/remote.html: More translation
	* help/en/connecting.html: correction: no way to log in without a
	  pre-existing database
	* Makefile.am, configure.in: Remove configuration of mdx directory

2006-04-18  Daniel Verite <daniel@manitou-mail.org>

	* src/mailitem.cpp: bugfix: attch_lvitem::save_to_disk() returns a
	  dirpath, not a filepath

2006-04-16  Daniel Verite <daniel@manitou-mail.org>

	* mdx/script/manitou-mdx: send_one_mail: fix typo get_conf =>
	  getconf
	* mdx/script/manitou-mdx: Fix merge of rfc2047 words in
	  my_encode_mimewords
	  Use the FB_PERLQQ mode for Encode::decode(body)

2006-04-09  Daniel Verite <daniel@manitou-mail.org>

	* help/fr/attachments.html, help/fr/connecting.html,
	  help/fr/filters.html, help/fr/index.html: *** empty log message
	  ***
	* help/fr/menus.html: Finished translation for menu commands
	* translations/manitou_fr.ts: minor fixes in french translation

2006-03-28  Daniel Verite <daniel@manitou-mail.org>

	* sql/upgrade-0.9.7.sql: SQL script to upgrade to 0.9.7

2006-03-26  Daniel Verite <daniel@manitou-mail.org>

	* sql/Makefile.am: Added upgrade-0.9.7 SQL script
	* src/helper.cpp: Added help sections
	* src/headers_groupview.cpp: Add close button
	* src/about.cpp: 2006
	* src/msg_list_window.cpp, src/msg_list_window.h: More QActions
	* sql/crpg.sql: Added jobs_queue and misc fixes

2006-03-14  Daniel Verite <daniel@manitou-mail.org>

	* mdx/MANIFEST: Conf->Config
	* help/en/attachments.html, help/en/command.html,
	  help/en/manitou.adp: *** empty log message ***
	* help/fr, help/fr/attachments.html, help/fr/command.html,
	  help/fr/configurations.html, help/fr/connecting.html,
	  help/fr/filters.html, help/fr/index.html, help/fr/menus.html,
	  help/fr/notes.html, help/fr/pages.html, help/fr/preferences.html,
	  help/fr/querysel.html, help/fr/quicksel.html,
	  help/fr/remote.html, help/fr/retrieve.html, help/fr/sql.html,
	  help/fr/tags.html, help/fr/wordsearch.html: French translation
	  started

2006-03-12  Daniel Verite <daniel@manitou-mail.org>

	* translations/manitou_fr.ts: update for 0.9.7
	* help/en/preferences.html: update for 0.9.7
	* mdx/lib/Manitou/Config.pm, mdx/script/manitou-mdx: Move the
	  config-related code to its own module

2006-03-07  Daniel Verite <daniel@manitou-mail.org>

	* src/words.cpp, src/words.h: bugfix on and_word()
	* src/selectmail.cpp, src/selectmail.h:
	  msgs_filter::parse_search_string() for full text search of exact
	  substrings
	* src/mailitem.cpp, src/newmailwidget.cpp, src/newmailwidget.h:
	  new_mail_widget::errmsg()
	* src/bitvector.cpp, src/bitvector.h: bit_vector::clear()

2006-02-21  Daniel Verite <daniel@manitou-mail.org>

	* mdx/script/manitou-mdx: Improve handling of
	  flush_word_index_interval

2006-02-12  Daniel Verite <daniel@manitou-mail.org>

	* mdx/lib/Manitou/Words.pm, mdx/script/manitou-mdx: Use the new
	  jobs_queue table to recompute lost word vectors after a previous
	  unexpected exit

2006-02-04  Daniel Verite <daniel@manitou-mail.org>

	* help/en/querysel.html, help/en/sql.html: Small additions
	* Makefile.am: Remove scripts subdir
	* xpm/Makefile.am, xpm/stock_slide-duplicate-16.png: New icon
	* src/prog_chooser.cpp, src/prog_chooser.h: find_in_path()
	* src/icons.h, src/mailitem.cpp, src/mailitem.h: New icon for
	  outgoing mail
	* src/helper.cpp, src/helper.h: Display an error message when Qt
	  assistant can't be started

2006-01-31  Daniel Verite <daniel@manitou-mail.org>

	* mdx/script/manitou-mdx: Use explicit transactions with
	  begin_work/commit rather than keeping
	  with AutoCommit set to 0. This avoids keeping the connection in
	  "idle
	  in transaction"
	  Filter out invalid timezone displacements
	  Protect calls to Address->parse against die
	* mdx/lib/Manitou/Attachments.pm: db-encode the charset as any
	  other text field

2006-01-29  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp, src/msg_list_window.h: Improved speed
	  and user feedback for actions on multi-selections
	* src/db.h, src/message.cpp: New methods working on sets of
	  messages to trash, archive, tag
	* src/mail_listview.cpp: bugfix: find() now searches within the
	  whole list instead of just
	  the selected items
	* src/query_listview.cpp: Reload user queries after edit
	* src/sql_editor.cpp, src/sql_editor.h, src/user_queries.cpp,
	  src/user_queries.h: Use QTextEdit instead of the obsolete
	  QMultiLineEdit

2006-01-24  Daniel Verite <daniel@manitou-mail.org>

	* mdx/script/manitou-mdx: Flush word index entries at time
	  intervals (flush_word_index_interval)
	  getconf_bool
	  Default configuration file in /etc
	  Include the subject in full text index
	* mdx/lib/Manitou/Words.pm: last_flush_time
	* mdx/lib/Manitou/Attachments.pm: detach_text_attachments: recurse

2006-01-15  Daniel Verite <daniel@manitou-mail.org>

	* mdx/script/manitou-mdx: Encode the message-id to be inserted into
	  mail.message_id in case it's not
	  US-ASCII

2005-12-17  Daniel Verite <daniel@manitou-mail.org>

	* mdx/lib/Manitou/Plugins/bayes_classify.pm: Use
	  Tags::flattened_tag_name
	* mdx/lib/Manitou/Tags.pm: Add flattened_tag_name
	* mdx/Makefile.PL: Use DESTDIR instead of PREFIX to install the
	  configuration file

2005-12-06  Daniel Verite <daniel@manitou-mail.org>

	* sql/crpg.sql: Replace mail_words by inverted_word_index
	* src/bitvector.cpp, src/bitvector.h, src/words.cpp: Handle
	  inverted_word_index.nz_offset

2005-12-05  Daniel Verite <daniel@manitou-mail.org>

	* mdx/script/manitou-mdx: Implement flush_word_index_max_queued
	  option to delay the flushing
	  of entries to inverted_word_index
	* mdx/lib/Manitou/Words.pm: Use nz_offset field to avoid storing
	  leading zeroes in inverted_word_index.mailvec (reduces the
	  table's size by a 2-4 factor)

2005-11-29  Daniel Verite <daniel@manitou-mail.org>

	* src/query_listview.cpp: When an message was not archived/not
	  tagged gets tagged, decrement
	  the Not Tagged counter in the Current Mail branch
	* src/mailitem.cpp: attch_listview: set the font in the constructor
	* src/edit_rules.cpp, src/edit_rules.h: Bugfix: a change in an
	  expression could be ignored if the new value
	  had been in the field previously
	* src/query_listview.cpp, src/query_listview.h: Update the tree of
	  tags selector for non-archived messages when tags
	  definition have changed
	* src/Makefile.am, src/browser.h: browser.h is now moc'able
	* src/msg_list_window.cpp, src/query_listview.cpp,
	  src/query_listview.h: Update the query listview Tagged tree when
	  changes occur in tags definitions

2005-11-22  Daniel Verite <daniel@manitou-mail.org>

	* translations/manitou_fr.ts: Translations update
	* src/words.cpp, src/words.h: wordsearch_resultset::m_partsize is
	  not const
	* src/mail_listview.cpp, src/mail_listview.h: include main.h in
	  header to avoid msc C4786 warnings
	* win32/msvc/manitou.dsp: new source files and wsock32.lib
	* ChangeLog: *** empty log message ***

2005-11-12  Daniel Verite <daniel@manitou-mail.org>

	* configure.in: Configure mdx directory
	* mdx, mdx/COPYING, mdx/MANIFEST, mdx/Makefile.PL, mdx/README,
	  mdx/etc, mdx/etc/manitou-sample.conf, mdx/lib, mdx/lib/Manitou,
	  mdx/lib/Manitou/Attachments.pm, mdx/lib/Manitou/Conf.pm,
	  mdx/lib/Manitou/Encoding.pm, mdx/lib/Manitou/Filters.pm,
	  mdx/lib/Manitou/Plugins,
	  mdx/lib/Manitou/Plugins/attach_uploader.pm,
	  mdx/lib/Manitou/Plugins/bayes_classify.pm,
	  mdx/lib/Manitou/Plugins/mswordindexer.pm,
	  mdx/lib/Manitou/Plugins/spamc.pm,
	  mdx/lib/Manitou/Plugins/undouble_newlines.pm,
	  mdx/lib/Manitou/Tags.pm, mdx/lib/Manitou/Words.pm, mdx/script,
	  mdx/script/manitou-mdx: Move mdx stuff inside its own Perl-like
	  structure
	* src/selectmail.cpp: Use the new word index
	* src/mailitem.cpp, src/mailitem.h: refactoring
	* src/msg_list_window_pages.cpp, src/newmailwidget.cpp: Move
	  redundant code to attch_listview class

2005-11-11  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp, src/msg_list_window.h: cycle_headers()
	  and move some stuff to mail_displayer class
	* src/mailheader.cpp, src/mailheader.h: mail_header::format()
	* src/words.cpp, src/words.h: Support for new word index
	* NEWS: *** empty log message ***
	* src/Makefile.am, src/bitvector.cpp, src/bitvector.h,
	  src/mail_displayer.cpp, src/mail_displayer.h,
	  src/mime_msg_viewer.cpp, src/mime_msg_viewer.h: New classes
	* acinclude.m4: Force -lqt-mt and check for Qt version

2005-11-06  Daniel Verite <daniel@manitou-mail.org>

	* src/date.cpp: let output functions return an empty string for
	  null dates

2005-10-29  Daniel Verite <daniel@manitou-mail.org>

	* src/edit_rules.cpp, src/edit_rules.h: Add an "Edit" button to the
	  action_tag box to open the tag editor
	* src/tags.cpp, src/tags.h: tag_node::clear()
	* src/tagsdialog.cpp, src/tagsdialog.h: Inherit QDialog instead of
	  QWidget
	* src/addresses.cpp, src/addresses.h, src/newmailwidget.cpp,
	  src/newmailwidget.h: Add search-per-substring functionality in
	  input_addresses_widget

2005-10-16  Daniel Verite <daniel@manitou-mail.org>

	* src/mail_listview.cpp, src/mail_listview.h, src/mailitem.cpp,
	  src/mailitem.h, src/msg_list_window.cpp, src/msg_list_window.h,
	  src/msg_list_window_pages.cpp: Use a map to store selected mail
	  items
	  Move printing code into the body_view class
	  Use QAction and clean up toolbar and menus and commands code

2005-10-15  Daniel Verite <daniel@manitou-mail.org>

	* src/about.cpp, src/about.h: Rename community to support
	* src/msg_list_window.cpp, src/query_listview.cpp, src/tagsbox.cpp,
	  src/tagsdialog.cpp: Avoid infinite loop when fetching tags with
	  an inconsistant hierarchy
	  (cycles in parent/child relationship or missing parent)
	* src/Makefile.am, src/errors.cpp, src/errors.h: ui_error class for
	  error handling
	* help/en/Makefile.am: added missing sql.html

2005-10-14  Daniel Verite <daniel@manitou-mail.org>

	* src/mailitem.cpp, src/mailitem.h, src/msg_list_window.cpp: Add
	  "reply-to-list" for mailing-lists
	  Make "quote selected text" implicit if text is selected

2005-10-13  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp: bugfix: let the user confirm the path
	  when downloading an attachment following
	  a double-click on it's attch_lvitem

2005-10-06  Daniel Verite <daniel@manitou-mail.org>

	* src/attachment.cpp, src/attachment.h: Add attachment_viewer and
	  attachment_viewer_list classes
	* src/mailitem.cpp: Rename fast browse mode to fetch on demand
	* src/preferences.cpp, src/preferences.h: Add MIME viewers editor
	* src/msg_list_window.cpp: call setSelectionAnchor when selection
	  changes programmatically
	  that's necessary for subsequent shift-click multi-selections

2005-10-01  Daniel Verite <daniel@manitou-mail.org>

	* help/en/menus.html, src/msg_list_window.cpp,
	  src/msg_list_window.h: Renamed "fast browse" to "fetch on demand"
	* help/en/manitou.adp, help/en/querysel.html, help/en/sql.html,
	  src/helper.cpp: Added sql.html
	* scripts/manitou-mdx: --status option now accepts a combination of
	  status names as well as
	  a numerical argument

2005-09-27  Daniel Verite <daniel@manitou-mail.org>

	* src/query_listview.cpp, src/query_listview.h: Add "Run query" in
	  contextual menu
	* src/msg_list_window.cpp: config("last_n") defaults to 30
	* src/user_queries.cpp, src/user_queries.h: Don't warn about a name
	  change when it's the original name

2005-09-17  Daniel Verite <daniel@manitou-mail.org>

	* win32/msvc/manitou.dsp: move xface directory into src/ and add
	  qassistantclient lib
	* src/helper.cpp: Do without QLocale for Qt versions lesser than
	  3.3
	* src/headers_groupview.cpp: include <math.h> for ceil()

2005-09-12  Daniel Verite <daniel@manitou-mail.org>

	* src/edit_rules.cpp, src/edit_rules.h: Validate the input fields
	  before updating the db, because the focusout event
	  on a QLineEdit is received after the OK button has been processed
	* src/filter_rules.cpp: Missing rollback on error in
	  expr_list::update_db()
	* sql/crpg.sql: Index mail.msg_date instead of mail.msg_day
	* src/selectmail.cpp: Use mail.msg_date instead of mail.msg_day to
	  implement the search with
	  "not older than" criterion. msg_day was a hack. The postgresql
	  planner
	  used to ignore an index on msg_date but that's no longer the case
	  with
	  more recent versions so better get rid of msg_day.

2005-09-07  Daniel Verite <daniel@manitou-mail.org>

	* Makefile.am, configure.in, src/Makefile.am, src/mailitem.cpp:
	  Move xface into the src directory
	* src/xface/README: Add the exchange of mails between xface
	  original author and the
	  debian maintainer about permission to alter original
	  redistribution terms
	  and remove the "no monies exchange" restriction.
	* src/xface/arith.cpp, src/xface/compface.h,
	  src/xface/compress.cpp, src/xface/data.h, src/xface/file.cpp,
	  src/xface/gen.cpp, src/xface/vars.h: Removed "no monies
	  exchanged" condition in redistribution terms inside
	  sources, per original author suggestion, as explained in the
	  README
	  file.
	* src/xface, src/xface/Makefile.am, src/xface/README,
	  src/xface/arith.cpp, src/xface/compface.h,
	  src/xface/compress.cpp, src/xface/data.h, src/xface/file.cpp,
	  src/xface/gen.cpp, src/xface/vars.h, src/xface/xface.cpp,
	  src/xface/xface.h, xface: Move xface into the src directory
	* help/en/filters.html: Add paragraph on "Suggest" feature
	* scripts/store_mail.sh: Change mail filenames to have alphabetical
	  sort order match the ordering
	  by creation date (DMY -> YMD)
	* sql/crpg.sql: Bump 'schema_version' runtime key to 0.9.7

2005-08-30  Daniel Verite <daniel@manitou-mail.org>

	* src/selectmail.cpp, src/selectmail.h: Optimize the queries that
	  retrieve non-tagged non-archived messages
	* src/mailheader.cpp: Database encoding is UTF8 instead of UNICODE

2005-08-28  Daniel Verite <daniel@manitou-mail.org>

	* src/db.cpp, src/message.cpp, src/selectmail.cpp,
	  src/sqlstream.cpp: use UTF8 instead of UNICODE for the db
	  encoding name following change
	  in PostgreSQL 8.1
	  VS:
	  ----------------------------------------------------------------------
	* src/edit_rules.cpp, src/edit_rules.h, src/headers_groupview.cpp,
	  src/headers_groupview.h, src/msg_list_window.cpp: New "suggest
	  filter" feature
	* src/notewidget.cpp, src/notewidget.h: Replace obsolete
	  QMultiLineEdit by QTextEdit
	  tab now changes the focus
	* scripts/manitou-mdx: Bump to 0.9.7
	  Recognize 'preferred_datetime' as a valid option
	  Expect UTF8 in addition to UNICODE for db encoding name
	  (following change in pg-8.1)
	  import_mailfiles: order by name the files to process

2005-08-27  Daniel Verite <daniel@manitou-mail.org>

	* sql/crpg.sql: Remove duplicate definition of raw_mail. Keep the
	  one that uses large objects
	  since 'text' is inappropriate in non SQL-ASCII encoding

2005-08-24  Daniel Verite <daniel@manitou-mail.org>

	* help/en/img/Makefile.am: Add missing images

2005-08-22  Daniel Verite <daniel@manitou-mail.org>

	* src/tags.cpp, src/tags.h, src/tagsbox.cpp, src/tagsbox.h,
	  src/tagsdialog.cpp, src/tagsdialog.h: Finish drag&drop and
	  handling of tags reparenting
	* src/msg_list_window.cpp: set the menubar font

2005-08-20  Daniel Verite <daniel@manitou-mail.org>

	* configure.in: Add help sub-Makefiles
	* help/en/img/Makefile.am, help/en/manitou.adp, help/en/style.css:
	  English help files
	* help/en, help/en/Makefile.am, help/en/attachments.html,
	  help/en/command.html, help/en/configurations.html,
	  help/en/connecting.html, help/en/filters.html, help/en/img,
	  help/en/img/attachments.png, help/en/img/filters.png,
	  help/en/img/login.png, help/en/img/manitou-logo.png,
	  help/en/img/manitou.png, help/en/img/msgtags1.png,
	  help/en/img/msgtags2.png, help/en/img/msgtags3.png,
	  help/en/img/newmail.png, help/en/img/newquery1.png,
	  help/en/img/notelist.png, help/en/img/privnote.png,
	  help/en/img/quicksel.png, help/en/img/tagsdialog.png,
	  help/en/img/wordsearch.png, help/en/index.html,
	  help/en/menus.html, help/en/notes.html, help/en/pages.html,
	  help/en/preferences.html, help/en/querysel.html,
	  help/en/quicksel.html, help/en/remote.html,
	  help/en/retrieve.html, help/en/tags.html,
	  help/en/wordsearch.html: English help pages
	* help/Makefile.am: Per locale directories
	* src/main.cpp: Close the help system on termination
	* src/helper.cpp, src/helper.h: Implement per-locale directory
	  Add helper::close()

2005-08-18  Daniel Verite <daniel@manitou-mail.org>

	* COPYING: copyright date
	* ChangeLog, NEWS: *** empty log message ***

2005-08-16  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp: sel_refresh(): roll back the call to
	  make_tree: it hangs when the listview
	  has already a tree-like structure
	* src/msg_list_window.cpp, src/preferences.cpp: Fix mismatch:
	  conf_key attachments_path really is attachments_directory

2005-08-15  Daniel Verite <daniel@manitou-mail.org>

	* configure.in: Fix mistake about the qassistantclient libname
	* src/msg_list_window.cpp, src/msg_list_window.h: Small changes to
	  help system
	* src/helper.cpp, src/helper.h: Use QtAssistantClient instead of
	  our own under-featured textbrowser
	* configure.in: Add -lassistant to QT_LIBS
	* help/ihelp_en.txt: Help on connecting to the db
	* src/login.cpp, src/login.h: help button

2005-08-13  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp, src/msg_list_window.h: progress bar for
	  attachments download
	* scripts/manitou-mdx: New configuration parameter
	  'detach_text_plain' to transfer unnamed
	  text/plain attached parts into the body at import time
	  No longer warns on stderr about unparsable Message-Id
	* src/attachment.cpp, src/attachment.h, src/database.h, src/db.cpp,
	  src/mailitem.cpp, src/mailitem.h: Provide a progressbar with an
	  abort button when downloading attachments
	* src/main.cpp: Exit if the connection dialog gets cancelled

2005-08-02  Daniel Verite <daniel@manitou-mail.org>

	* src/about.cpp, src/about.h: Added tabs
	* src/msg_list_window.cpp: URL regexp: ] and ) delimit the end of
	  an URL instead of being part of it

2005-07-19  Daniel Verite <daniel@manitou-mail.org>

	* src/addresses.cpp: mail_address_list::fetchLike(): don't force
	  last_sent_to to be not null
	  when order="last_sent_to", filter on mail_addresses with
	  addr_type=2
	  instead. That's because only mails sent by manitou have
	  last_sent_to set
	  to non null.

2005-07-17  Daniel Verite <daniel@manitou-mail.org>

	* src/main.cpp: Default values for some config parameters

2005-07-16  Daniel Verite <daniel@manitou-mail.org>

	* src/mailitem.cpp, src/mailitem.h, src/msg_list_window.cpp,
	  src/msg_list_window.h, src/msg_list_window_pages.cpp: Left and
	  right cursor keypresses are interpreted as goto prev/next message
	  commands when the focus is in the body_view

2005-07-14  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp: Use fetch_ahead_max_msgs config
	  parameter to limit read-ahead
	* src/preferences.cpp, src/preferences.h: New preferences tab:
	  "Fetching"
	* win32/msvc/manitou.dsp: Add new source files
	* src/browser.cpp: include windows.h
	* src/mailheader.cpp: Use _alloca instead of variable-length array
	  on stack if not using g++
	* src/message.cpp: use Q_OS_* instead of _WINDOWS
	* src/msg_list_window.cpp, src/msg_list_window.h: Access raw
	  headers
	  Implement pre-fetching of bodies when idle
	* src/user_queries.cpp, src/user_queries.h: Change signatures to be
	  called from query_listview
	* src/tagsdialog.cpp, src/tagsdialog.h: Support for drag&drop
	* src/tags.cpp, src/tags.h: Add message_tag::is_valid_name()
	* src/query_listview.cpp, src/query_listview.h: Context menu to
	  edit or remove user queries
	  Change mail_status_changed signature so that it can access
	  directly
	  the mail_msg object, thus avoiding a db query
	* src/db.h, src/message.cpp: Add support for caching message bodies
	* src/database.h, src/db.cpp: Add db_cnx::idle method
	* src/attachment.cpp: Don't try to find a codec for the us-ascii
	  charset
	* sql/crpg.sql: Add table raw_mail
	* scripts/plugins/bayes_classify.pm: Use the
	  'last_bayesian_learning' runtime key to cache the results
	  of the costly query against the tags_words table
	* scripts/plugins/Makefile.am: Add attach_uploader.pm
	* scripts/manitou-bayes-learn.pl: Update or insert the
	  'last_bayesian_learning' entry into RUNTIME_INFO
	  for caching purposes
	* configure.in: Add -pthread for freebsd and openbsd
	  Add test for PostgreSQL version and use pg_config if available

2005-07-09  Daniel Verite <daniel@manitou-mail.org>

	* src/browser.cpp: Recognize https:// as an url start
	  Use strerror if strerror_r is not available

2005-07-02  Daniel Verite <daniel@manitou-mail.org>

	* src/database.h, src/edit_rules.cpp, src/helper.cpp,
	  src/mailitem.cpp, src/main.h: Fix small compatibility problems
	  with Qt4
	* src/version.h: bump to 0.9.7

2005-06-30  Daniel Verite <daniel@manitou-mail.org>

	* ChangeLog, NEWS: News
	* src/mailitem.cpp: Fix column numbers in mail_lvitem constructor

2005-06-22  Daniel Verite <daniel@manitou-mail.org>

	* src/mailheader.cpp, src/mailheader.h: Added some support for raw
	  headers
	* src/main.cpp: getopt_long compatibility stuff for *BSD, SunOS,
	  Linux
	* src/attachment.h: include <fstream>
	* src/mailitem.cpp: Change mail_lvitem constructor for gcc-2.95.x
	  compatibility
	  and implement values 3 and 4 for show_headers_level
	* src/browser.cpp: include errno for *BSD systems

2005-06-21  Daniel Verite <daniel@manitou-mail.org>

	* src/identities.cpp, src/identities.h, src/newmailwidget.cpp,
	  src/newmailwidget.h, src/preferences.cpp, src/preferences.h:
	  Rename class identity to mail_identity since identity is reserved
	  with gcc-2.95.x
	* src/Makefile.am: Fix compatibility with SunOS make
	* src/prog_chooser.cpp, src/prog_chooser.h: Class to find helper
	  programs. Work in progress
	* src/Makefile.am, src/getopt.cpp, src/getopt1.cpp, src/mygetopt.h:
	  Added getopt_long code linked in when not available on the system
	* configure.in: Added check for getopt_long
	* acinclude.m4: Remove test for iconv

2005-06-15  Daniel Verite <daniel@manitou-mail.org>

	* scripts/manitou-mdx: Fix mail.msg_day value; it was wrong since
	  the switch to YYYY-MM-DD format
	  for file dates

2005-06-13  Daniel Verite <daniel@manitou-mail.org>

	* configure.in: Use pg_config is available
	  Check for getopt_long support
	  Check for strerror_r support

2005-06-10  Daniel Verite <daniel@manitou-mail.org>

	* src/Makefile.am: Added moc.cpp to moc.o rule which we needs to be
	  explicit for
	  SunOS make

2005-06-08  Daniel Verite <daniel@manitou-mail.org>

	* src/filter_rules.cpp, src/filter_rules.h: Speed up
	  expr_list::fetch()

2005-06-06  Daniel Verite <daniel@manitou-mail.org>

	* scripts/manitou-mdx: parse_sender_date: be more strict on time
	  field
	  bugfix on handling store_raw_mail parameter value

2005-06-04  Daniel Verite <daniel@manitou-mail.org>

	* src/Makefile.am, src/icons.h, src/selectmail.cpp,
	  src/selectmail.h, src/sql_editor.cpp, src/sql_editor.h: Added sql
	  editor for "zoom in" feature in query selection dialog
	* xpm/Makefile.am, xpm/stock_zoom-page-16.png: zoom-page icon added

2005-06-01  Daniel Verite <daniel@manitou-mail.org>

	* scripts/manitou-mdx: Don't call convnull on the result of
	  parse_sender_date. null is fine
	  on sender_date if the date can't be parsed.

2005-05-27  Daniel Verite <daniel@manitou-mail.org>

	* scripts/manitou-mdx: Optionally save raw mail files into large
	  objects

2005-05-26  Daniel Verite <daniel@manitou-mail.org>

	* scripts/manitou-mdx: date parse: don't depend on the case of
	  months and days

2005-05-24  Daniel Verite <daniel@manitou-mail.org>

	* src/newmailwidget.cpp: Fix font name selection

2005-05-20  Daniel Verite <daniel@manitou-mail.org>

	* ChangeLog, NEWS: *** empty log message ***
	* sql/crpg.sql: Remove unused fields
	* scripts/manitou-mdx: Bugfix on spurious maintenance plugins call
	  Added call of outgoing plugins
	* scripts/plugins/attach_uploader.pm: Outgoing plugin to upload
	  large attachments to an FTP server
	  and convert them into an URL in the outgoing message

2005-05-19  Daniel Verite <daniel@manitou-mail.org>

	* scripts/manitou-mdx: Import timezones with message dates, and use
	  iso-8601 format
	  Convert newlines to spaces before insertion into mail.subject

2005-05-18  Daniel Verite <daniel@manitou-mail.org>

	* scripts/Makefile.am, scripts/manitou-bayes-learn.pl: Added
	  bayesian learner program
	* scripts/plugins/Makefile.am, scripts/plugins/bayes_classify.pm:
	  Added bayesian classifier plugin
	* src/message.cpp: Change rules for getting text contents to quote
	  from attachments:
	  if there are several text/plain attachments, take them all as
	  they're
	  displayed on screen instead of none. Also consider only
	  attachments with no
	  filename.
	* scripts/manitou-mdx: Fix encoding of outgoing mail with an
	  unicode database
	  Fix default tmpdir setting
	* src/db.h, src/message.cpp, src/msg_list_window.cpp: Fetch the
	  mail.attachments field to avoid selecting from
	  attachment_contents
	  when there is no attachment to a mail

2005-05-16  Daniel Verite <daniel@manitou-mail.org>

	* translations/manitou_fr.ts: *** empty log message ***
	* sql/Makefile.am: upgrade file for 0.9.6
	* ChangeLog, NEWS: *** empty log message ***
	* sql/crpg.sql, sql/upgrade-0.9.6.sql: New tables tags_words and
	  forward_addresses
	* src/msg_list_window.cpp: Optionally use the new forward_addresses
	  table to auto-fill the recipient
	  when forwarding

2005-05-15  Daniel Verite <daniel@manitou-mail.org>

	* src/about.cpp: Added mailing-list address
	* src/msg_list_window.h: remove_msg() becomes public
	* src/mailitem.cpp: Use tr() for contextual menu
	* src/about.cpp, src/about.h: Add URLs for forum and bug tracker
	* src/Makefile.am, src/browser.cpp, src/browser.h,
	  src/msg_list_window_pages.cpp: New browser class

2005-05-10  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp: Exclude double quotes from URL regexp

2005-05-09  Daniel Verite <daniel@manitou-mail.org>

	* src/mailitem.cpp, src/mailitem.h: Improve quoting of selected
	  text
	  Disable entries in contextual menu if no text selected

2005-05-08  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp: Reparent its childs before removing an
	  item (was missing in one case)
	* src/mail_listview.cpp: Improve list traversals
	* src/database.h, src/db.cpp: disonnect secondary connections
	  (avoid pgsql log about unexpected EOF)

2005-05-06  Daniel Verite <daniel@manitou-mail.org>

	* scripts/manitou-mdx: Accept encoding unknown to perl in headers

2005-05-02  Daniel Verite <daniel@manitou-mail.org>

	* scripts/manitou-mdx: maintenance plugins: round off seconds and
	  bugfix in delta computing
	  for some cases
	* src/newmailwidget.cpp, src/newmailwidget.h: Memorize the
	  directory form which attachments are last got from
	* src/query_listview.cpp: Sort tags by names

2005-04-29  Daniel Verite <daniel@manitou-mail.org>

	* scripts/manitou-mdx: Maintenance plugins

2005-04-25  Daniel Verite <daniel@manitou-mail.org>

	* src/preferences.cpp, src/preferences.h: Finishes identities
	  deletion
	* src/db.cpp, src/preferences.cpp, src/preferences.h: Refactor
	  identities code in preferences
	* src/identities.cpp, src/identities.h: Update
	  identities.date_update
	* src/db.h, src/mail_listview.cpp, src/mail_listview.h,
	  src/message.cpp, src/msg_list_window.cpp, src/msg_list_window.h:
	  Bugfix on line wrapping with tabs
	  Add the body->edit command
	* src/Makefile.am, src/body_edit.cpp, src/body_edit.h: Add edition
	  of body

2005-04-19  Daniel Verite <daniel@manitou-mail.org>

	* translations/manitou_fr.ts: *** empty log message ***
	* src/msg_list_window.cpp: bugfix with url length variable
	* src/msg_list_window.cpp, src/msg_list_window.h: Use clickable
	  URLs choice and forwarding encapsulation text from the
	  configuration
	* src/db.cpp, src/main.h: Add app_config:get_bool() variant with a
	  default value
	* src/newmailwidget.cpp: Eliminate spurious newline at end of
	  signature on insertion
	* src/preferences.cpp: Add clickable URLs Y/N
	  Reduce size taken by buttonboxes

2005-04-18  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp: Handle the case of multiple URLs per
	  line of body
	* src/msg_list_window.cpp: Add keyboard shortcuts for reply and
	  forward
	* src/mailheader.cpp: mail_header::make(): fix date field
	  (hopefully rfc-compliant) for msvc
	* src/login.cpp, src/login.h: translation

2005-04-16  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window_pages.cpp: Use strerror_r instead of
	  deprecated sys_errlist[]
	* src/msg_list_window.cpp, src/query_listview.cpp,
	  src/query_listview.h: Improve tag counter updates
	* win32/msvc/manitou.dsp: new file and winmm library
	* src/attachment.cpp, src/main.cpp, src/msg_list_window.cpp,
	  src/msg_list_window_pages.cpp, src/selectmail.cpp,
	  src/selectmail.h: Windows fixes

2005-04-15  Daniel Verite <daniel@manitou-mail.org>

	* src/main.cpp: Use gl_tr_path instead of config #define
	* src/database.h: Move definition for DBEXCPT from db.h
	* help/ihelp_en.txt: Add entry for preferences/paths/browser
	* src/mailitem.cpp, src/mailitem.h, src/msg_list_window.cpp,
	  src/msg_list_window.h, src/msg_list_window_pages.cpp: Support for
	  clickable links
	* src/Makefile.am, src/attachment.cpp, src/attachment.h,
	  src/db.cpp, src/db.h: Move attachments stuff into separate source
	  files

2005-04-10  Daniel Verite <daniel@manitou-mail.org>

	* translations/Makefile.am: Added rule to generate .qm files
	* src/main.cpp: Use translations files
	* Makefile.am, README, configure.in: Bump to 0.9.6 and add
	  translations directory
	* translations, translations/Makefile.am, translations/README,
	  translations/manitou_fr.ts: French translation

2005-04-09  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_properties.cpp: Fixed strings for translations
	* src/tagsdialog.cpp: Fixed layout warning
	* src/msg_list_window.cpp, src/selectmail.cpp, src/selectmail.h:
	  Added missing tr() for translations.
	  Added query execution times.
	* src/about.cpp, src/mail_listview.cpp, src/newmailwidget.cpp,
	  src/newmailwidget.h: Added missing tr() for translations.

2005-03-31  Daniel Verite <daniel@manitou-mail.org>

	* ChangeLog: *** empty log message ***

2005-03-28  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp, src/query_listview.cpp,
	  src/query_listview.h: Improvements in query_listview counters
	  updating
	* src/db.cpp, src/main.h, src/preferences.cpp, src/preferences.h:
	  Add configuration names in preferences dialog
	* src/msg_list_window.cpp: Bugfix on cmd_same_tags of contextual
	  menu
	  Refresh current mail tags counters on archival
	  Call start_edit() on mail composition
	* src/mailitem.cpp: Call start_edit() on message composition
	* src/query_listview.cpp, src/query_listview.h: Add code for
	  updating tag counters for current mail tree
	* src/newmailwidget.cpp, src/newmailwidget.h: When no default
	  identity is set, fall back to the first one.
	  Improve the "modified body" test on close

2005-03-26  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp, src/msg_list_window.h,
	  src/selectmail.cpp, src/selectmail.h: Renamed m_liste_t and
	  m_ListeMsgs
	  On refresh, update the messages statuses and priorities based on
	  the
	  values newly fetched whenever possible
	* src/mailitem.cpp, src/mailitem.h: Space bar scrolls a page when
	  the focus is in the body panel

2005-03-25  Daniel Verite <daniel@manitou-mail.org>

	* ChangeLog: *** empty log message ***

2005-03-24  Daniel Verite <daniel@manitou-mail.org>

	* sql/Makefile.am, sql/upgrade-0.9.5.sql: Added upgrade-0.9.5.sql
	* sql/upgrade-0.9.4.sql: forgotten addresses.nb_sent_to
	* configure.in: Bump to version 0.9.5
	* NEWS: new in 0.9.5
	* win32/msvc/manitou.dsp: msvc project for 0.9.5
	* src/newmailwidget.cpp: Use QFont::toString() instead of rawname()
	* src/about.cpp: rewording of non commercial warning
	* src/main.cpp: windows version: accept arguments and use a default
	  configuration based on the machine's name
	* src/msg_list_window.cpp: Use the portable
	  QFont::toString/fromString instead of font rawnames

2005-03-23  Daniel Verite <daniel@manitou-mail.org>

	* win32/msvc/manitou.dsp: update to 0.9.5
	* src/icons.h: icon for new mail
	* src/db.cpp, src/db.h: clean windows #defines
	* src/mailitem.cpp: typo QT_WS_WIN -> Q_WS_WIN
	* src/msg_list_window.cpp, src/msg_list_window.h: preliminary
	  support for trayicon (disabled)
	* src/main.cpp: small windows tweaks
	* src/version.h: update to 0.9.5
	* src/mailitem.cpp: Fix xpm path for non-unix build and disable
	  xface when qmake is used
	* src/mail_listview.cpp, src/mail_listview.h: Removed obsolete
	  mail_listview::lastItem()
	* src/about.cpp: License addition about Qt Non Commercial
	* ChangeLog: *** empty log message ***
	* INSTALL: Explanations about database upgrade
	* src/msg_properties.cpp: set the minvalue of the spinbox before
	  the priority or negative values
	  are ignored

2005-03-22  Daniel Verite <daniel@manitou-mail.org>

	* src/main.h: fix typo on _MSC_VER and allow debug output for
	  QT_WS_WIN

2005-03-21  Daniel Verite <daniel@manitou-mail.org>

	* scripts/manitou-mdx: New option --skip for mbox partial import
	  Use index_words parameter for outgoing mail as well as incoming
	* scripts/manitou-mdx: Encode attachments filenames before database
	  insertion

2005-03-20  Daniel Verite <daniel@manitou-mail.org>

	* scripts/manitou-mdx: Non-conformant unencoded 8 bits characters
	  in headers are interpreted
	  as iso-8859-15 to let them being converted later to unicode
	  without
	  error.
	* src/db.cpp: app_config::apply(): ignore xpm_path if the directory
	  doesn't appear
	  to contain our icons

2005-03-16  Daniel Verite <daniel@manitou-mail.org>

	* scripts/plugins/Makefile.am, scripts/plugins/mswordindexer.pm:
	  mswordindexer plugin added. Index .doc contents with the help
	  of wvWare
	* scripts/manitou-mdx: Bugfix on CPU overuse when no_send is on
	  Pass the mail_id to incoming_mimeprocess plugins

2005-02-27  Daniel Verite <daniel@manitou-mail.org>

	* src/db.h, src/headers_groupview.cpp, src/headers_groupview.h,
	  src/main.h, src/tags.h: some msvc and mingw fixes
	* src/edit_rules.cpp, src/edit_rules.h: msvc compiler fixes

2005-02-26  Daniel Verite <daniel@manitou-mail.org>

	* scripts/plugins/Makefile.am: missing Makefile.am added

2005-02-24  Daniel Verite <daniel@manitou-mail.org>

	* ChangeLog: *** empty log message ***
	* INSTALL: update
	* src/selectmail.cpp, src/selectmail.h: Use a read-only QLineEdit
	  to display the compact form of the status
	  instead of the QComboBox that didn't really made sense
	* src/addressbook.cpp: remove double line
	* scripts/manitou-mdx: Revamp options
	  Improve body decoding with unknown or missing charsets
	  (iso-8859-1 assumed)
	  use getuid() instead of $ENV{UID}
	  Unfold headers before inserting into the db

2005-02-23  Daniel Verite <daniel@manitou-mail.org>

	* src/newmailwidget.cpp: Text update
	* src/db.cpp: Don't overwite libxpm_path with an empty string when
	  applying preferences
	* src/Makefile.am: Removed libiconv
	* sql/Makefile.am: Make the *.sql installable
	* configure.in: Removed AM_ICONV and obsolete -fno-default-inline
	  gcc option
	  Added plugins directory
	* README: version update
	* scripts/Makefile.am, scripts/manitou-sample.conf: Add
	  manitou-sample.conf and some changes in the installation layout
	* scripts/manitou-mdx: Use dirname($0) instead of FindBin to guess
	  the location of filters.pm
	  Accept MANITOU_CONNECT_STRING if db_connect_string is undefined
	  Remove tags_outgoing

2005-02-21  Daniel Verite <daniel@manitou-mail.org>

	* src/main.cpp: typo fixed
	* src/tagsbox.cpp: Support for hierarchical tags
	* src/main.cpp: --dbcnx and --help options
	* src/tags.cpp, src/tags.h, src/tagsdialog.cpp: Fix renaming of
	  child elements in tagsbox
	* src/main.cpp, src/main.h: Default values for app_config and takes
	  the hostname and os as the
	  default configuration name
	* src/icons.h: New icons
	* src/db.h, src/edit_rules.cpp, src/mail_listview.cpp,
	  src/mailitem.cpp, src/mailitem.h, src/message.cpp,
	  src/msg_list_window.cpp, src/msg_list_window.h,
	  src/newmailwidget.cpp, src/query_listview.cpp,
	  src/selectmail.cpp: Rename "processed" status to "archived"
	* src/db.cpp: app_config::init() uses default config values
	* xpm/Makefile.am, xpm/exec2-16.png,
	  xpm/stock_data-new-sql-query-16.png: New icons

2005-02-20  Daniel Verite <daniel@manitou-mail.org>

	* src/selectmail.cpp, src/selectmail.h: Use QDateTimeEdit to input
	  dates
	  Set days/weeks/months old value in filter_to_dialog
	  The upper bound in date range is now included in the selection
	  Bugfix in utf8 conversion of selection query
	  Prefix mail_id with table name when using in (...) clause

2005-02-16  Daniel Verite <daniel@manitou-mail.org>

	* scripts/manitou-mdx: full support for hierarchical tags

2005-02-14  Daniel Verite <daniel@manitou-mail.org>

	* scripts/manitou-mdx: Add our path to the library search path for
	  filters.pm
	  Option store_filenames, security_checks
	  Reorganized main loop in daemon mode
	  Removed obsolete filtering code
	  Improve encoding of outgoing mail
	* scripts/filters.pm: Add copyright notice
	* scripts/Makefile.am: Add filters.pm
	* help/ihelp_en.txt: Added help about filters dialog
	* src/message.cpp: Remove references to mail_tags.score
	* src/filter_rules.cpp: Remove references to obsolete filter_expr
	  columns
	* src/edit_rules.cpp: Add help

2005-02-11  Daniel Verite <daniel@manitou-mail.org>

	* sql/crpg.sql: Init mime_types with some default values
	* src/preferences.cpp, src/preferences.h: Remove the mime_types tab
	  for the moment since the database code for
	  updating them is not written yet. Also it probably shouldn't be
	  in the
	  preferences dialog anyway
	* src/newmailwidget.cpp, src/newmailwidget.h: Improvements on
	  attachment mimetypes: load and autodetection based on suffix
	* src/addressbook.cpp, src/addressbook.h, src/addresses.cpp,
	  src/addresses.h: Fix display and update of number of sent and
	  received messages per contact
	* src/about.cpp: Added build date and update version for win32

2005-02-09  Daniel Verite <daniel@manitou-mail.org>

	* ChangeLog: *** empty log message ***
	* scripts/manitou-mdx: Use perl-5.8 Encode module instead of
	  Text::Iconv
	  Some other improvements related to charsets
	* src/db.cpp, src/db.h, src/edit_rules.cpp, src/edit_rules.h,
	  src/msg_list_window.cpp, src/msg_list_window.h,
	  src/query_listview.cpp, src/query_listview.h, src/selectmail.cpp,
	  src/selectmail.h, src/tags.cpp, src/tags.h, src/tagsbox.cpp,
	  src/tagsbox.h, src/tagsdialog.cpp, src/tagsdialog.h: Tags
	  hierarchy
	* sql/crpg.sql, sql/upgrade-0.9.4.sql: Added tags.parent_id

2005-02-03  Daniel Verite <daniel@manitou-mail.org>

	* sql/Makefile.am, sql/delete_msg.sql: Added delete_msg stored
	  procedure
	* src/message.cpp: Use the delete_msg stored proc if available

2005-02-02  Daniel Verite <daniel@manitou-mail.org>

	* src/addresses.cpp, src/database.h, src/db.cpp, src/db.h,
	  src/mailitem.cpp, src/main.h, src/newmailwidget.cpp,
	  src/newmailwidget.h, src/selectmail.cpp, src/selectmail.h,
	  src/sqlquery.cpp, src/sqlquery.h, src/sqlstream.cpp,
	  src/sqlstream.h: localization: replace latin1() by local8Bit() or
	  QString where possible

2005-02-01  Daniel Verite <daniel@manitou-mail.org>

	* src/db.cpp, src/db.h, src/mailitem.cpp, src/mailitem.h,
	  src/msg_list_window.cpp, src/msg_list_window.h,
	  src/msg_list_window_pages.cpp, src/newmailwidget.cpp,
	  src/newmailwidget.h: Allow a multi-selection of attachments for
	  Attachment/Save
	  Show a progress bar when saving
	  Unify the attachments' listview of msg_list_window and
	  newmailwidget
	* src/db.cpp, src/db.h, src/msg_list_window.cpp: Use a text/plain
	  attachment's charset when available

2005-01-31  Daniel Verite <daniel@manitou-mail.org>

	* sql/crpg.sql, sql/upgrade-0.9.4.sql: Add attachments.charset

2005-01-29  Daniel Verite <daniel@manitou-mail.org>

	* src/mailitem.cpp: Added some icons to the contextual menu
	* src/db.cpp: bugfix: use PGCLIENTENCODING env variable instead of
	  PGENCODING

2005-01-28  Daniel Verite <daniel@manitou-mail.org>

	* sql/upgrade-0.9.4.sql: conflict resolution
	* ChangeLog: *** empty log message ***
	* src/edit_rules.cpp, src/edit_rules.h: Dead code removed

2005-01-27  Daniel Verite <daniel@manitou-mail.org>

	* sql/crpg.sql, sql/triggers_on_mail.sql, sql/upgrade-0.9.4.sql:
	  Update to 0.9.4

2005-01-24  Daniel Verite <daniel@manitou-mail.org>

	* src/filter_rules.cpp: Fix bug on expr delete
	* src/edit_rules.cpp, src/edit_rules.h: Remove form based expr
	  input, will be done later in wizard-like dialogs
	  Allow for empty expression name
	* scripts/manitou-mdx: apply_filters: allow for empty expr names
	  and handle "priority" action

2005-01-14  Daniel Verite <daniel@manitou-mail.org>

	* scripts/filters.pm, scripts/manitou-mdx: New filtering system
	  with expression evaluator

2005-01-13  Daniel Verite <daniel@manitou-mail.org>

	* src/edit_rules.cpp, src/edit_rules.h, src/filter_rules.cpp:
	  Various bugfixes on the UI and database update
	* src/msg_list_window.cpp: Apply analyze_headers to the selection
	  when there is a multiselection

2005-01-11  Daniel Verite <daniel@manitou-mail.org>

	* src/Makefile.am: Added headers_groupview
	* src/headers_groupview.cpp, src/headers_groupview.h,
	  src/msg_list_window.cpp, src/msg_list_window.h: Implement the
	  headers groupview
	* src/tags.cpp, src/tags.h: New tags_repository::get_sorted_list()
	* src/edit_rules.cpp, src/edit_rules.h: Implement actions
	* src/filter_rules.cpp, src/filter_rules.h: Update filter_action

2004-12-19  Daniel Verite <daniel@manitou-mail.org>

	* src/query_listview.cpp, src/query_listview.h:
	  reload_user_queries()
	* src/msg_list_window.cpp: Update the query listview after a query
	  save
	* src/user_queries.cpp: save_filter_query(): update
	  user_queries_repository::m_map

2004-12-15  Daniel Verite <daniel@manitou-mail.org>

	* src/message.cpp: Update the user_id column in various tables

2004-12-07  Daniel Verite <daniel@manitou-mail.org>

	* src/db.cpp, src/db.h, src/icons.h, src/identities.cpp,
	  src/identities.h, src/mailheader.h, src/mailitem.cpp, src/main.h,
	  src/message.cpp, src/msg_list_window.cpp, src/msg_list_window.h,
	  src/msg_list_window_pages.cpp, src/newmailwidget.cpp: Added
	  reply-to-sender toolbar button
	  Implemented self_cc_on_reply option
	  Improved selection for default identity on reply

2004-12-06  Daniel Verite <daniel@manitou-mail.org>

	* xpm/Makefile.am, xpm/reply.xpm: Added reply.xpm

2004-12-01  Daniel Verite <daniel@manitou-mail.org>

	* src/newmailwidget.cpp, src/newmailwidget.h: Don't confirm the
	  close event if it comes from a send action

2004-11-15  Daniel Verite <daniel@manitou-mail.org>

	* scripts/manitou-mdx: Added preferred_charset config entry
	  Truncate long (buggy) addresses in incoming msgs before inserting
	  in mail
	  Don't bother about the case of Message-Id header

2004-11-14  Daniel Verite <daniel@manitou-mail.org>

	* src/newmailwidget.cpp, src/newmailwidget.h: Added icons
	  Added confirmation on abort message (close window)
	  Fixed bug in removal of attachment (only the first one would
	  actually
	  be removed)
	* src/icons.h: Added openfile icon
	* xpm/Makefile.am, xpm/stock_open-16.png: Added fileopen icon

2004-11-12  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp, src/msg_list_window_pages.cpp:
	  add_msgs_page: moved some connect() to the constructor, we don't
	  need a new
	  connect() for each page
	  Improved support for back/forward
	  msg_print(): avoid double newlines on unix
	* src/mailitem.cpp, src/mailitem.h: Added move back and forward in
	  the contextual menu of the body widget

2004-11-06  Daniel Verite <daniel@manitou-mail.org>

	* src/users.cpp, src/users.h: Added user::current_user_id()
	* src/edit_rules.cpp, src/edit_rules.h, src/filter_rules.cpp,
	  src/filter_rules.h: update_db()

2004-11-01  Daniel Verite <daniel@manitou-mail.org>

	* src/mailitem.cpp, src/message.cpp: Base filtering of addresses in
	  Cc field on identities instead of the obsolete
	  "email" config key.
	  Use new config entries reply_attribution_string and
	  reply_quote_prefix

2004-10-13  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp, src/msg_list_window.h: Added "hide
	  quoted text" option

2004-10-12  Daniel Verite <daniel@manitou-mail.org>

	* scripts/manitou-mdx: Better version of encode_mimewords
	  Quarantine an email that could not be sent
	  Secure the way the envelope From is got

2004-10-08  Daniel Verite <daniel@manitou-mail.org>

	* src/newmailwidget.cpp: the To field can be empty if Bcc is not

2004-10-05  Daniel Verite <daniel@manitou-mail.org>

	* src/db.h, src/message.cpp, src/msg_list_window.cpp: Renamed note
	  functions and store note for new messages
	* src/newmailwidget.cpp: Warn if no sender identity or no recipient

2004-10-02  Daniel Verite <daniel@manitou-mail.org>

	* scripts/manitou-mdx: Implement mime-process plugins
	* src/query_listview.cpp, src/query_listview.h:
	  query_listview::map_count counts the messages on the mask bits
	  _not_ set
	* sql/crpg.sql: Added table mailboxes

2004-09-27  Daniel Verite <daniel@manitou-mail.org>

	* src/addresses.h, src/mailheader.h, src/message.cpp,
	  src/newmailwidget.cpp: For a new outgoing mail, the sender and
	  sender_fullname fields are
	  initialized with the identity rather than obsolete config entries
	* scripts/plugins, scripts/plugins/spamc.pm,
	  scripts/plugins/undouble_newlines.pm: Sample plugin
	* scripts/manitou-mdx: Use a config file with per mailbox sections
	  Plugins implemented on incoming mail
	  Use the mailboxes table

2004-09-06  Daniel Verite <daniel@manitou-mail.org>

	* src/mailitem.cpp, src/mailitem.h, src/msg_list_window.cpp,
	  src/msg_list_window.h: Store and reuse the directory into which
	  the user saves an attachment

2004-08-26  Daniel Verite <daniel@manitou-mail.org>

	* scripts/build-word-index.pl: Added get_top_words option
	  Fixed insertion of multiple identical (mail_id,word_id) entries
	  into mail_words
	  Take non_indexable_words into account
	  Index the contents of text/plain unnamed attachments when the
	  body is empty
	* src/message.cpp: set mail.attachments for outgoing mail
	* src/query_listview.cpp, src/query_listview.h: Added count for
	  unprocessed/untagged tree branch
	* src/mailitem.cpp, src/mailitem.h, src/msg_list_window.cpp,
	  src/msg_list_window.h, src/selectmail.cpp, src/selectmail.h:
	  Added multiple words search (words ANDed together)
	  Highlighting code considers multiple expressions
	* scripts/manitou-mdx: Avoid inserting multiple (word_id,mail_id)
	  tuples into the mail_words
	  table

2004-08-20  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp, src/msg_list_window.h,
	  src/query_listview.cpp, src/query_listview.h, src/tags.cpp: Add a
	  Tag tree in the quick selection for unprocessed messages

2004-08-18  Daniel Verite <daniel@manitou-mail.org>

	* README.cvs: Added -a -c options to automake

2004-08-17  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp: Fix insertion of a <br> after a &nbsp;
	  in line wrap mode
	* src/mailitem.cpp, src/mailitem.h: Change the frame's border when
	  the body widget has the focus

2004-08-13  Daniel Verite <daniel@manitou-mail.org>

	* scripts/manitou-mdx: Insert the mail_id of word-indexed mail into
	  the word_indexed_mail table
	  Word-index outgoing messages as well

2004-08-09  Daniel Verite <daniel@manitou-mail.org>

	* src/newmailwidget.cpp, src/newmailwidget.h: Added save setting
	  and renamed m_wBody
	* src/msg_list_window.cpp: Fixed print menu entry enabling
	  Added quit icon
	* src/db.cpp, src/main.h: config::store() returns bool
	* src/icons.h: Added quit icon
	* xpm/Makefile.am, xpm/close.png, xpm/quit.xpm: Modified close
	  icon, added quit icon

2004-08-06  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp, src/msg_list_window.h,
	  src/msg_list_window_pages.cpp: Change the font for the quick
	  selection panel, statusbar and toolbar.
	  New pages inherit font and splitter sizes from current page
	* src/database.h, src/db.cpp, src/message.cpp, src/sqlstream.cpp:
	  Check for unique constraint violations by using postgresql
	  SQLSTATE error code

2004-07-28  Daniel Verite <daniel@manitou-mail.org>

	* src/user_queries.cpp, src/user_queries.h, src/version.h,
	  src/words.cpp, src/words.h: Add missing license headers
	* src/about.cpp: Check for the existence of icon and background
	  pixmap files

2004-07-25  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp, src/msg_list_window_pages.cpp: Move some
	  functions to reduce the size of msg_list_window.cpp
	* src/mailitem.cpp, src/mailitem.h: sprint_headers is now part of
	  mail_lvitem instead of msg_list_window

2004-07-23  Daniel Verite <daniel@manitou-mail.org>

	* src/db.cpp, src/main.cpp, src/msg_list_window.cpp,
	  src/msg_list_window.h: Reflect immediately in the messages list
	  windows the changes accepted in the preferences dialog.
	* src/preferences.cpp: widgets_to_conf(): fix misinterpretation of
	  values for "show_tags" and
	  "sender_displayed_as"
	* src/database.h, src/db.cpp, src/mailheader.cpp, src/message.cpp,
	  src/selectmail.cpp, src/sqlquery.cpp, src/sqlquery.h,
	  src/sqlstream.cpp: Removed various dependencies on iso-latin1
	  encoding.
	  Added basic support to deal with an UNICODE encoded database
	  without having
	  to set PGCLIENTENCODING.
	* src/msg_list_window.cpp, src/msg_list_window.h: stop highlighting
	  text when the searched text is cleared

2004-07-22  Daniel Verite <daniel@manitou-mail.org>

	* src/icons.h, src/main.cpp, src/msg_list_window.cpp: Under
	  MS-Windows, the xpm directory is expected to be at the same level
	  as
	  the executable rather than at a fixed location
	* win32/msvc/manitou.dsp: Added new files
	* src/selectmail.cpp: build_query() returns 2 if the name of a
	  requested tag can't be found instead
	  of ignoring the tag
	  fetch() displays an error message when build_query() isn't
	  successful
	* src/tagsbox.cpp, src/tagsbox.h: Reflect the changes in tags
	  definitions made by tags_dialog

2004-07-20  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp: Fixed parse error
	* src/msg_list_window.cpp: expand_body_line() no longer uses
	  hardspaces (0x0a0) since cut&paste into
	  other applications doesn't work with hardspaces. Uses &nbsp;
	  instead
	  search_db() forbids searching for non indexable words

2004-07-16  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp, src/selectmail.cpp: Fixed broken
	  "Refresh" command due to misusage of msgs_filter::m_user_query
	* src/preferences.cpp, src/preferences.h: Support for mime types
	  (incomplete)
	  identities is based on map instead of list
	* src/identities.cpp, src/identities.h, src/newmailwidget.cpp:
	  identities is based on map<email> instead of list

2004-07-15  Daniel Verite <daniel@manitou-mail.org>

	* src/helper.cpp: Add missing </ul> after the topics list and don't
	  list "help" as a topic
	* src/newmailwidget.cpp, src/newmailwidget.h: Update the signature
	  when the identity is changed
	  Initialize the signature from the 'default_identity' config entry
	  instead
	  of 'email_addr'

2004-07-14  Daniel Verite <daniel@manitou-mail.org>

	* src/main.cpp, src/msg_list_window.cpp, src/msg_list_window.h,
	  src/query_listview.cpp, src/selectmail.cpp, src/selectmail.h,
	  src/sqlquery.cpp, src/sqlquery.h: Implement saved user queries
	* src/Makefile.am, src/user_queries.cpp, src/user_queries.h: New
	  files for user-made saved queries

2004-07-12  Daniel Verite <daniel@manitou-mail.org>

	* src/main.cpp: Include time.h
	* win32, win32/msvc, win32/msvc/README, win32/msvc/manitou.dsp:
	  Added MSVC project file

2004-07-10  Daniel Verite <daniel@manitou-mail.org>

	* ChangeLog: *** empty log message ***
	* config.h.in: Remove file generated by autoheader
	* src/words.cpp, src/words.h: New files for code related to word
	  indexing
	* README.cvs: Explanations about missing configure and Makefile.in
	  files in CVS

2004-07-09  Daniel Verite <daniel@manitou-mail.org>

	* src/version.h: Bumped to 0.9.4
	* src/Makefile.am: Added words.cpp words.h version.h
	  Added LIBICONV for optional GNU libiconv
	* acinclude.m4, configure.in: Moved some autoconf stuff into new
	  file acinclude.m4
	  Added check for iconv (explicit linking with libiconv is
	  necessary on
	  systems where it replaces the libc's implementation)

2004-07-08  Daniel Verite <daniel@manitou-mail.org>

	* scripts/build-word-index.pl: Script to build and maintain the
	  word-based index
	* sql/upgrade-0.9.4.sql: SQL instructions to upgrade the schema
	  from 0.9.3 to 0.9.4
	* sql/crpg.sql: Added non_indexable_words
	* scripts/manitou-mdx: Added word indexing

2004-07-02  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp: GetHeaders() has become get_headers()
	* src/message.cpp: use gethostbyname instead of getdomainname
	  rename a few functions to lowercase
	* src/db.cpp, src/db.h: New function fetch_filename_suffixes that
	  fetches the contents
	  of mime_types

2004-06-29  Daniel Verite <daniel@manitou-mail.org>

	* src/db.cpp: attachment::store(): don't use the system dependant
	  DIRECTORY_SEPARATOR
	  in this context since Qt uses '/' on all platforms. Fixes a bug
	  in windows version where attachment filenames were stored with
	  their
	  full local path

2004-06-27  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp, src/msg_list_window.h: Changed "search"
	  for "find text".
	  display_body(): call ensureVisible() after highlighting searched
	  terms.
	  Display a wait mouse cursor and a status bar when waiting for
	  database
	  results.
	* src/main.h: Removed searchInAuthors, it's not supported yet
	* src/searchbox.cpp: Renamed "search for" to "find text"
	* ChangeLog: *** empty log message ***
	* src/sqlquery.cpp, src/sqlquery.h: sql_query::start takes const
	  QString argument instead of const char*
	* src/selectmail.cpp, src/selectmail.h: Added database-wide word
	  search using words and mail_words tables
	* src/msg_list_window.cpp, src/msg_list_window.h: Added database
	  wide word-search in a new toolbar.
	  display_body(): changed the way to highlight searched terms
	* src/mailitem.cpp, src/mailitem.h: New function
	  body_view::highlight_terms() that uses Qt non-primary
	  selections attributes to highlight searched terms
	* sql/crpg.sql: Added tables mime_types, mail_words, words,
	  word_indexed_mail
	  Insert the schema version into runtime_info

2004-06-22  Daniel Verite <daniel@manitou-mail.org>

	* ChangeLog: *** empty log message ***
	* src/newmailwidget.cpp, src/newmailwidget.h: body_view inherits
	  QTextEdit instead of QMultiLineEdit
	  Rewrote the extraction of the body text in linewrap mode with
	  QTextEdit's API

2004-06-20  Daniel Verite <daniel@manitou-mail.org>

	* scripts/manitou-mdx: Fixed mistaken removal of angle brackets
	  from subject
	  Keep the original body if the conversion from utf-8 fails
	  Update addresses.nb_recv_from for incoming messages

2004-06-18  Daniel Verite <daniel@manitou-mail.org>

	* ChangeLog: *** empty log message ***
	* src/selectmail.cpp, src/selectmail.h: Display a database error
	  message when the query couldn't be run

2004-06-16  Daniel Verite <daniel@manitou-mail.org>

	* src/searchbox.cpp: Fixed several bugs in set_where() and
	  set_options()
	  Initialization of button states now works
	  Removed "Search in authors" since it's not implemented yet

2004-06-09  Daniel Verite <daniel@manitou-mail.org>

	* src/tagsbox.cpp: use QListViewItemIterator::current() instead of
	  operator *
	  to allow for compile with Qt-3.0.x

2004-06-08  Daniel Verite <daniel@manitou-mail.org>

	* src/db.h: add message::find_text_to_quote()
	* src/message.cpp, src/msg_list_window.cpp: Improvements in
	  forwarded message: give an initial body and subject
	  to the message
	* src/newmailwidget.cpp, src/newmailwidget.h: Rename m_cMsg to
	  m_msg
	  Fix the code that finds what identity has been chosen
	  Wrap the body at 80 columns instead of 72 in wrap mode

2004-06-04  Daniel Verite <daniel@manitou-mail.org>

	* src/msg_list_window.cpp: set the number of unread messages before
	  enabling the new mail button

2004-05-31  Daniel Verite <daniel@manitou-mail.org>

	* src/Makefile.in: Remove file generated by automake

2004-05-30  Daniel Verite <daniel@manitou-mail.org>

	* ChangeLog: update
	* scripts/manitou-mdx: Fix mistaken removal of angle brackets from
	  header lines
	  No longer put the X-Face line into the headers for outgoing mail,
	  it's
	  done by the user interface
	* help/Makefile.in, scripts/Makefile.in, sql/Makefile.in,
	  xface/Makefile.in, xpm/Makefile.in: Remove files that are
	  generated by automake
	* Makefile.in, aclocal.m4, config.guess, config.sub, configure,
	  depcomp, install-sh, ltmain.sh, missing, mkinstalldirs: Remove
	  files that are generated by autoconf and automake
	* src/selectmail.cpp: Disable the days/weeks/months spinbox when
	  the query is running
	  Remove some obsolete code
	* src/message.cpp: Cosmetics changes
	* src/msg_list_window.cpp, src/msg_list_window.h: More icons in the
	  menu
	  Don't fetch the tags in fast browse mode
	  Bug fixed in body line wrap code
	  Fixed crash when right-clicking on an empty list of messages
	  Display an icon and the number of new messages in the newmail
	  button
	* src/mailitem.cpp, src/mailitem.h: body_view inherits QTextEdit
	  instead of QTextView (which is obsoleted
	  in Qt3)
	* src/mailheader.cpp, src/mailheader.h: include version.h
	  put the x-face into the header
	* src/newmailwidget.cpp, src/newmailwidget.h: Add a toolbar
	  (inherit from QMainWindow instead of QWidget)
	  Add a print command
	  Add identity chooser menu
	  input_addresses_widget: can filter contacts that have a positive
	  priority
	* src/users.cpp, src/users.h: Cosmetic changes
	* src/identities.cpp, src/identities.h, src/preferences.cpp,
	  src/preferences.h: Added support for identities
	* src/Makefile.am, src/version.h: Add #define VERSION for windows
	  (defined in configure.in for unix)
	* src/icons.h: Icons added
	* src/addresses.cpp: mail_address_list::fetch_recent() loads
	  addresses.recv_pri and can
	  also select only prioritized addresses
	* src/db.cpp: db_cnx::commit_transaction() and
	  rollback_transaction(): don't commit
	  or rollback when we're inside nested pseudo-transactions
	* xpm/Makefile.am, xpm/mail-need-reply.xpm, xpm/stock_about-16.png,
	  xpm/stock_addressbook.png, xpm/stock_attach-16.png,
	  xpm/stock_font-16.png, xpm/stock_help-16.png,
	  xpm/stock_outbox.png, xpm/stock_redo-16.png,
	  xpm/stock_stop-16.png, xpm/stock_undelete-16.png,
	  xpm/stock_undo-16.png: Some more icons added
	* sql/crpg.sql: Added column filter.expr_order
	  identities.email_addr is NOT NULL

2004-05-29  Daniel Verite <daniel@manitou-mail.org>

	* ., AUTHORS, COPYING, ChangeLog, INSTALL, Makefile.am,
	  Makefile.in, NEWS, README, aclocal.m4, config.guess, config.h.in,
	  config.sub, configure, configure.in, depcomp, help,
	  help/Makefile.am, help/Makefile.in, help/ihelp_en.txt,
	  install-sh, ltmain.sh, missing, mkinstalldirs, scripts,
	  scripts/Makefile.am, scripts/Makefile.in, scripts/manitou-mdx,
	  scripts/store_mail.sh, sql, sql/Makefile.am, sql/Makefile.in,
	  sql/crpg.sql, sql/status_text.sql, sql/triggers_on_mail.sql, src,
	  src/Makefile.am, src/Makefile.in, src/about.cpp, src/about.h,
	  src/addressbook.cpp, src/addressbook.h, src/addresses.cpp,
	  src/addresses.h, src/database.h, src/date.cpp, src/date.h,
	  src/db.cpp, src/db.h, src/dbtypes.h, src/dragdrop.h,
	  src/edit_rules.cpp, src/edit_rules.h, src/filter_rules.cpp,
	  src/filter_rules.h, src/helper.cpp, src/helper.h, src/icons.h,
	  src/login.cpp, src/login.h, src/mail_listview.cpp,
	  src/mail_listview.h, src/mailheader.cpp, src/mailheader.h,
	  src/mailitem.cpp, src/mailitem.h, src/main.cpp, src/main.h,
	  src/message.cpp, src/msg_list_window.cpp, src/msg_list_window.h,
	  src/msg_list_window_pages.cpp, src/msg_properties.cpp,
	  src/msg_properties.h, src/newmailwidget.cpp, src/newmailwidget.h,
	  src/notewidget.cpp, src/notewidget.h, src/preferences.cpp,
	  src/preferences.h, src/query_listview.cpp, src/query_listview.h,
	  src/searchbox.cpp, src/searchbox.h, src/selectmail.cpp,
	  src/selectmail.h, src/sqlquery.cpp, src/sqlquery.h,
	  src/sqlstream.cpp, src/sqlstream.h, src/style.cpp, src/style.h,
	  src/tags.cpp, src/tags.h, src/tagsbox.cpp, src/tagsbox.h,
	  src/tagsdialog.cpp, src/tagsdialog.h, src/users.cpp, src/users.h,
	  src/xpm_attached.h, src/xpm_forwarded.h, src/xpm_new.h,
	  src/xpm_processed.h, src/xpm_read.h, src/xpm_replied.h,
	  src/xpm_trash.h, xface, xface/Makefile.am, xface/Makefile.in,
	  xface/README, xface/arith.cpp, xface/compface.h,
	  xface/compress.cpp, xface/data.h, xface/file.cpp, xface/gen.cpp,
	  xface/vars.h, xface/xface.cpp, xface/xface.h, xpm,
	  xpm/16_configure_mail.png, xpm/16_edit.png, xpm/Makefile.am,
	  xpm/Makefile.in, xpm/README, xpm/apply-filters-16.png,
	  xpm/close.png, xpm/cut.xpm, xpm/forward.xpm, xpm/inbox.png,
	  xpm/manitou-logo.xpm, xpm/open-in-new-window-16.png,
	  xpm/pattern-about.png, xpm/properties-16.png,
	  xpm/reply_to_all.xpm, xpm/stock_bottom-16.png,
	  xpm/stock_copy-16.png, xpm/stock_delete-16.png,
	  xpm/stock_edit-16.png, xpm/stock_exec-16.png,
	  xpm/stock_form-letter-dialog-16.png,
	  xpm/stock_form-open-in-design-mode-16.png,
	  xpm/stock_insert-note-16.png, xpm/stock_insert-slide-16.png,
	  xpm/stock_left-16.png, xpm/stock_not-spam.png,
	  xpm/stock_notes.png, xpm/stock_paste-16.png,
	  xpm/stock_people.png, xpm/stock_print-16.png,
	  xpm/stock_refresh-16.png, xpm/stock_right-16.png,
	  xpm/stock_search-16.png, xpm/trashcan.xpm,
	  xpm/undelete_message.png, xpm/xpm_processed.xpm,
	  xpm/xpm_read.xpm: Initial revision

